table:
  name: brokertrade
  dataset: "{kpi_dataset}"
  fqn: '{project}.{kpi_dataset}.brokertrade'
  layer: kpi
  description: >-
    Broker-routed (voice/OTC) trade KPIs with time-bucketed slippage and fee accounting.
    Has account field for BGC/MGN broker comparison. One row per broker trade including
    revisions and potentially multiple legs for combos. Contains instant edge, PnL
    (with and without brokerage fees), and forward-looking slippage at intervals from
    1 second to 5 days. Unique columns include fee_method, brokerage_rate, instant_pnl_w_fees,
    and tv_offset_slippage. Partitioned by trade_date. When a trader asks "show broker trades",
    "manual broker executions", or "broker fees", use this table.
  disambiguation: >-
    Broker-routed trades with fee accounting. Has account field for BGC/MGN broker comparison.
    Use kpi.brokertrade for broker trade performance metrics (edge, PnL, fees, slippage).
    This is the only KPI table with brokerage fee columns (fee_method, brokerage_rate, instant_pnl_w_fees).
  source_sql:
  - kpi_brokertrade_normalized.sql
  - kpi_brokertrade_calculations.sql
  proto_source: 'OffFloorData.proto :: BrokerTrade'
  business_context: >
    Mako's broker-facilitated (voice/OTC) trades only. These trades also appear in
    kpi.markettrade. Do NOT sum with markettrade or you will double-count.
  preferred_timestamps:
    primary: event_timestamp_ns
    fallback: []
    notes: "Use event_timestamp_ns for all time-range filters on KPI brokertrade."
  partition_field: trade_date
  cluster_fields:
  - symbol
  - portfolio
  row_count_approx: 0
  columns:
  - name: kafka_message_timestamp
    type: TIMESTAMP
    description: >-
      Kafka ingestion timestamp recording when this broker trade message was produced to the
      Kafka topic. Used internally for data pipeline monitoring, latency tracking, and replay
      debugging. Not relevant for trade timing analysis; use trade_timestamp or event_timestamp instead.
    synonyms:
    - kafka time
    - ingestion time
    business_rules: Internal pipeline field. Do not use for trade timing queries.
    source: Kafka metadata
  - name: record_written_timestamp
    type: TIMESTAMP
    description: >-
      Timestamp when this broker trade record was written to BigQuery by the data pipeline.
      Useful for tracking data freshness and pipeline lag between Kafka ingestion and warehouse
      availability. Not a business timestamp; use trade_timestamp for when the trade actually occurred.
    synonyms:
    - write time
    - bq write time
    business_rules: Internal pipeline field. Do not use for trade timing queries.
    source: Pipeline metadata
  - name: kafka_partition
    type: INTEGER
    description: >-
      Kafka partition number from which this broker trade record was consumed. Used for data
      engineering debugging, partition rebalancing analysis, and ensuring even distribution of
      broker trade messages across the streaming pipeline. Not relevant for trading analytics.
    synonyms: []
    business_rules: Internal pipeline field. Not useful for trading queries.
    source: Kafka metadata
  - name: kafka_offset
    type: INTEGER
    description: >-
      Sequential offset of this broker trade record within its Kafka partition. Monotonically
      increasing within a partition, used for exactly-once delivery guarantees and replay from
      a specific point. Internal pipeline field, not relevant for trade analytics.
    synonyms: []
    business_rules: Internal pipeline field. Not useful for trading queries.
    source: Kafka metadata
  - name: uuid
    type: STRING
    description: >-
      Globally unique identifier for this broker trade record, assigned at trade entry time by the
      ORA trading system. Persists across revisions, so multiple rows may share the same uuid with
      different revision numbers. Use uuid + revision to get a unique row. Primary key for joining
      broker trade data across systems and tracking trade lifecycle.
    synonyms:
    - unique id
    - trade uuid
    - broker trade id
    business_rules: Not unique per row on its own; combine with revision for uniqueness. Persists across amendments.
    source: 'OffFloorData.proto :: BrokerTrade.uuid'
  - name: portfolio
    type: STRING
    description: >-
      Trading portfolio or book the broker trade is assigned to, representing the risk bucket or
      strategy that owns the position. Used extensively for PnL attribution, risk aggregation, and
      filtering broker trades by desk or strategy. Common values are product-specific book names.
    synonyms:
    - book
    - trading book
    - strategy
    - desk
    source: 'OffFloorData.proto :: BrokerTrade.portfolio'
  - name: entry_timestamp
    type: TIMESTAMP
    description: >-
      Timestamp when the broker trade was first entered into the ORA trading system. Distinct from
      trade_timestamp (when the trade actually occurred) and last_edit_timestamp (when it was last
      amended). Useful for measuring entry latency, i.e., the delay between trade execution and booking.
    synonyms:
    - entry time
    - booking time
    source: 'OffFloorData.proto :: BrokerTrade.entryTimeStamp'
  - name: last_edit_timestamp
    type: TIMESTAMP
    description: >-
      Timestamp of the most recent edit or amendment to this broker trade record. Updated each time
      the trade is revised (revision number increments). Compare with entry_timestamp to see how
      long after initial booking the trade was last modified. Useful for audit trails and amendment tracking.
    synonyms:
    - last edit
    - amendment time
    - last modified
    source: 'OffFloorData.proto :: BrokerTrade.lastEditTimeStamp'
  - name: trade_timestamp
    type: TIMESTAMP
    description: >-
      Actual execution timestamp of the broker trade, recording when the trade was agreed upon between
      Mako and the counterparty via voice or OTC channel. This is the primary business timestamp for
      broker trades. Use this for time-of-day analysis, execution timing studies, and correlating with
      market conditions at trade time.
    synonyms:
    - trade time
    - execution time
    - fill time
    source: 'OffFloorData.proto :: BrokerTrade.tradeTimeStamp'
  - name: revision
    type: INTEGER
    description: >-
      Version number of the broker trade entry, starting at 0 for the initial booking and incrementing
      with each amendment. Higher revision numbers represent corrections or updates to trade details
      like price, size, or counterparty. For most analytics, use the latest revision (MAX(revision))
      per uuid to get the final state of each trade.
    synonyms:
    - version
    - amendment number
    - revision number
    business_rules: Use MAX(revision) per uuid to get final trade state. Revision 0 is the original entry.
    source: 'OffFloorData.proto :: BrokerTrade.revision'
  - name: counterparty
    type: STRING
    description: >-
      Name or identifier of the counterparty on the other side of the broker trade, typically another
      market maker, hedge fund, or institutional investor. Used for counterparty exposure analysis,
      trade flow attribution, and understanding who Mako is trading against via voice/OTC channels.
    synonyms:
    - counter party
    - other side
    - facing
    - contra
    source: 'OffFloorData.proto :: BrokerTrade.counterparty'
  - name: user
    type: STRING
    description: >-
      Username of the trader or desk member who entered the broker trade into the system. Identifies
      who at Mako booked the OTC trade. Used for trader-level PnL attribution, productivity analysis,
      and audit trails. May differ from the person who negotiated the trade if entered by support staff.
    synonyms:
    - trader
    - entered by
    - booked by
    - trader name
    source: 'OffFloorData.proto :: BrokerTrade.user'
  - name: inventory
    type: STRING
    description: >-
      Inventory or sub-account classification for the broker trade, representing a finer-grained
      allocation than portfolio. Used to separate positions within a book, for example by product
      type, hedging vs directional, or regulatory classification. Rarely queried directly by traders.
    synonyms:
    - sub-account
    - sub account
    source: 'OffFloorData.proto :: BrokerTrade (derived from makoInventory/marketInventory)'
  - name: contract_name
    type: STRING
    description: >-
      Human-readable contract name for the traded instrument, typically including the product,
      expiry month/year, and option type if applicable (e.g., "OESX Dec25 C 5000"). More readable
      than instrument_hash but less precise for joins. Used in trade blotters and reports.
    synonyms:
    - product name
    - contract
    - instrument name
    source: 'OffFloorData.proto :: BrokerTrade.contractName'
  - name: source
    type: STRING
    description: >-
      Source system or feed that originated this broker trade record. Identifies which upstream
      system or data pathway delivered the trade, useful for data lineage tracking and debugging
      discrepancies between source systems and the KPI pipeline.
    synonyms:
    - data source
    - trade source
    source: 'OffFloorData.proto :: BrokerTrade.source'
  - name: broker
    type: STRING
    description: >-
      Name of the brokerage firm or broker intermediary that facilitated this OTC trade (e.g., BGC,
      Tradition, ICAP). This is the entity that earns brokerage fees on the trade. Used for broker
      performance comparison, fee analysis, and volume attribution by broker. Filter on this field
      when traders ask about specific broker relationships.
    synonyms:
    - broker name
    - brokerage
    - intermediary
    source: 'OffFloorData.proto :: BrokerTrade.broker'
  - name: month
    type: INTEGER
    description: >-
      Month component extracted from the trade date as an integer (1-12). Convenience field for
      time-based grouping and filtering without parsing the full trade_date. Can be used for
      monthly aggregation queries, though GROUP BY EXTRACT(MONTH FROM trade_date) is equivalent.
    synonyms:
    - trade month
  - name: day
    type: INTEGER
    description: >-
      Day-of-month component extracted from the trade date as an integer (1-31). Convenience field
      for daily grouping and filtering. Useful for intra-month analysis patterns, though filtering
      on trade_date directly is generally preferred for clarity.
    synonyms:
    - trade day
  - name: year
    type: INTEGER
    description: >-
      Year component extracted from the trade date as an integer (e.g., 2025). Convenience field
      for year-over-year comparisons and annual aggregations. Equivalent to EXTRACT(YEAR FROM trade_date)
      but pre-computed for query simplicity.
    synonyms:
    - trade year
  - name: ref_price
    type: FLOAT
    description: >-
      Reference price for the underlying instrument at the time of the broker trade, sourced from
      the ORA theo snapshot. Used as the basis for delta hedging and PnL calculations. For combo
      trades, this is the reference price relevant to the specific leg.
    synonyms:
    - reference price
    - ref
    source: 'OffFloorData.proto :: BrokerTrade.detail.refPrice'
  - name: when_timestamp
    type: TIMESTAMP
    description: >-
      Timestamp from the ORA theoretical snapshot used to price this broker trade, indicating when
      the theo engine last computed the greeks and theoretical value applied to this trade. May differ
      slightly from trade_timestamp due to snapshot timing. Used for data quality validation.
    synonyms:
    - theo timestamp
    - snapshot time
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.whenTimestamp'
  - name: is_mako_or_market
    type: STRING
    description: >-
      Indicates whether Mako was the market maker or market taker side of this broker trade. Derived
      from market_or_mako_trade for easier filtering. Key for understanding trade flow direction and
      whether Mako was providing or consuming liquidity in the OTC transaction.
    synonyms:
    - mako or market
    - side role
    example_values:
    - mako
    - market
  - name: account
    type: STRING
    description: >-
      Trading account identifier unique to broker trades, representing the broker clearing account
      used (e.g., BGC, MGN). This is the key field for comparing performance across different broker
      relationships. Filter on account to analyze edge, PnL, and fees by broker. Not present in
      other KPI tables (markettrade, quotertrade, clicktrade).
    synonyms:
    - trading account
    - broker account
    - clearing account
    - broker code
    business_rules: Unique to brokertrade table. Primary field for broker-level performance comparison.
    source: 'OffFloorData.proto :: BrokerTrade (derived from makoAccount/marketAccount)'
  - name: note
    type: STRING
    description: >-
      Free-text note attached to the broker trade by the trader or support staff at booking time.
      May contain trade rationale, special instructions, counterparty details, or amendment reasons.
      Useful for qualitative filtering but not standardized; use with LIKE or CONTAINS for searching.
    synonyms:
    - comment
    - trade note
    - remark
    source: 'OffFloorData.proto :: BrokerTrade.note'
  - name: mako_inventory
    type: STRING
    description: >-
      Mako-side inventory classification for this broker trade, identifying which internal inventory
      bucket the position is allocated to on Mako's books. Used in conjunction with mako_account for
      detailed position tracking and reconciliation with the ORA trading system.
    synonyms:
    - mako inv
    source: 'OffFloorData.proto :: BrokerTrade.makoInventory'
  - name: mako_account
    type: STRING
    description: >-
      Mako-side account identifier for this broker trade, representing the internal account used for
      clearing and settlement on Mako's side. May differ from the account field which represents the
      broker relationship. Used for reconciliation and position management.
    synonyms:
    - mako acct
    source: 'OffFloorData.proto :: BrokerTrade.makoAccount'
  - name: market_inventory
    type: STRING
    description: >-
      Market-side (counterparty) inventory classification for this broker trade. Identifies the
      inventory bucket from the counterparty's perspective. Used for reconciliation and understanding
      how the other side of the trade is classified in the trading system.
    synonyms:
    - market inv
    source: 'OffFloorData.proto :: BrokerTrade.marketInventory'
  - name: market_account
    type: STRING
    description: >-
      Market-side (counterparty) account identifier for this broker trade. Represents the clearing
      account used by the other side of the OTC trade. Used for settlement reconciliation and
      counterparty-level analysis alongside the counterparty name field.
    synonyms:
    - market acct
    source: 'OffFloorData.proto :: BrokerTrade.marketAccount'
  - name: executable_exchange
    type: INTEGER
    description: >-
      Numeric exchange identifier indicating which exchange the instrument is listed on for execution
      purposes. Maps to exchange lookup tables in the ORA system. Used internally for routing and
      rarely queried directly by traders; prefer the exchange string field for analytics.
    synonyms:
    - exchange id
    - exe exch
  - name: symbol
    type: STRING
    description: >-
      Exchange-traded symbol or ticker for the instrument involved in this broker trade. The primary
      grouping key for product-level analysis (e.g., "OESX", "ODAX", "OGBL"). Used extensively in
      WHERE clauses to filter by product and in GROUP BY for product-level PnL, edge, and slippage
      aggregations. This is the field traders refer to when they say "show me trades in X".
    synonyms:
    - ticker
    - product
    - instrument
    - product code
    - underlying
  - name: combo_type_name
    type: STRING
    description: >-
      Name of the combination/spread structure type for multi-leg broker trades (e.g., "Calendar",
      "Vertical", "Straddle", "Strangle", "Butterfly"). NULL or empty for single-leg trades. Used
      to analyze trading activity and performance by strategy structure type in OTC markets.
    synonyms:
    - spread type
    - combo type
    - structure
    - strategy type
    example_values:
    - Calendar
    - Vertical
    - Straddle
    - Strangle
    - Butterfly
  - name: underlying_symbol
    type: STRING
    description: >-
      Symbol of the underlying asset for this option or derivative instrument. For equity index
      options, this is the index symbol. Useful when the traded symbol is an option series but you
      need to group or filter by the underlying product. May differ from symbol for structured products.
    synonyms:
    - underlying ticker
    - underlying product
  - name: market_or_mako_trade
    type: STRING
    description: >-
      Indicates whether Mako was acting as the market maker or market taker in this broker trade.
      Value 'market' means Mako was taking liquidity (responding to a broker's offer); 'mako' means
      Mako was providing liquidity (initiating via the broker). Critical for understanding trade flow
      direction and drives the market_mako_multiplier used in PnL calculations.
    synonyms:
    - mako market
    - trade direction
    - liquidity role
    example_values:
    - market
    - mako
    business_rules: Drives market_mako_multiplier calculation. 'market' = -1 multiplier, 'mako' = +1.
    source: 'OffFloorData.proto :: BrokerTrade (derived)'
  - name: count_calendar
    type: INTEGER
    description: >-
      Number of calendar spread components in this combo trade. Used to identify and classify
      multi-leg trades that include calendar (time) spreads. A value of 0 means no calendar component;
      higher values indicate the number of calendar-type legs present in the structure.
    synonyms:
    - calendar count
    - num calendars
  - name: is_ref_component
    type: INTEGER
    description: >-
      Flag indicating whether this leg is a reference (hedge) component of the broker trade rather
      than the primary option leg. Value 1 means this is the underlying/futures reference leg used
      for delta hedging; 0 means it is the primary traded option leg. Important for separating option
      PnL from hedge PnL in multi-leg analysis.
    synonyms:
    - ref component flag
    - is hedge leg
  - name: underlying_exe_exch
    type: INTEGER
    description: >-
      Numeric exchange identifier for the underlying instrument's execution venue. Maps to the exchange
      where the underlying futures or equity trades. Internal routing field; prefer underlying_exchange
      string field for analytics queries.
    synonyms:
    - underlying exchange id
  - name: liquid
    type: INTEGER
    description: >-
      Liquidity flag indicating whether this instrument is classified as liquid (1) or illiquid (0)
      in the ORA trading system. Liquid instruments typically have tighter spreads and more reliable
      market depth. Used for filtering and segmenting trade performance analysis by liquidity regime.
    synonyms:
    - is liquid
    - liquidity flag
  - name: company
    type: STRING
    description: >-
      Company or legal entity associated with this broker trade, identifying the Mako entity that
      is party to the transaction. Relevant for multi-entity firms where different legal entities
      may trade under separate regulatory and clearing arrangements.
    synonyms:
    - entity
    - legal entity
  - name: underlying_instrument_hash
    type: STRING
    description: >-
      Unique hash identifier for the underlying instrument of the traded option or derivative. Used
      to join with other tables containing underlying-level data (theodata, market depth) and to group
      option trades by their underlying for aggregated analysis.
    synonyms:
    - underlying hash
    - underlying id
  - name: parent_combo_type_name
    type: STRING
    description: >-
      Combo structure type name of the parent instrument when this row represents a leg of a multi-leg
      broker trade. Indicates the overall strategy type (e.g., "Calendar", "Vertical") at the parent
      level, while combo_type_name may describe the sub-structure. NULL for single-leg trades.
    synonyms:
    - parent spread type
    - parent structure
  - name: total_traded_size
    type: FLOAT
    description: >-
      Total size traded across all legs of the broker trade in number of contracts. For single-leg
      trades, equals the trade size. For combos, sums the absolute size across all legs. Used in
      trade sizing analysis and volume reporting. Compare with size (leg-level) for per-leg detail.
    synonyms:
    - total lots
    - total size
    - total contracts
    - total volume
  - name: trade_date
    type: DATE
    description: >-
      Business date of the broker trade, used as the partition key for this table. All queries MUST
      filter on trade_date to avoid full table scans and control costs. This is the logical trading
      day, which may differ from the calendar date for trades executed after market close. Always
      include in WHERE clause.
    synonyms:
    - date
    - business date
    - trading date
    - trade day
    business_rules: ALWAYS filter on trade_date in queries. This is the partition column. Omitting it causes full scans.
  - name: price
    type: FLOAT
    description: >-
      Execution price of the broker trade as agreed between Mako and the counterparty via the broker.
      For options, this is the premium paid or received per contract. For combos, this is the net
      combo price. Compared against trade_tv (theoretical value) to calculate instant_edge.
    synonyms:
    - fill price
    - execution price
    - traded price
    - deal price
    source: 'OffFloorData.proto :: BrokerTrade.detail.makoPrice (or marketPrice)'
  - name: trade_tv
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the exact time of the broker trade, sourced
      from the ORA pricing engine snapshot. This is Mako's model price and the baseline for edge
      calculation. instant_edge = (trade_tv - price) * buy_sell_multiplier. Synonym: theo at trade.
    synonyms:
    - theo at trade
    - tv at trade
    - fair value at trade
    formula: Sourced from ORA theo snapshot at trade_timestamp
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.tv'
  - name: fee_method
    type: STRING
    description: >-
      Method used to calculate brokerage fees for this trade, determining how the brokerage_rate is
      applied. Each method produces different fee amounts depending on trade size, premium, or
      underlying price. Unique to brokertrade table. Drives the instant_pnl_w_fees calculation
      through a complex branching formula.
    synonyms:
    - fee type
    - fee calculation method
    - brokerage method
    example_values:
    - Per Lot
    - Per Trade
    - No Fee
    - bp of Premium
    - Pct of Premium
    - bp of Underlying Price Per Lot
    - Per 1000 Lot x CSize
    business_rules: Determines how brokerage_rate is applied to compute fees in instant_pnl_w_fees.
    source: Raw field from broker trade booking system
  - name: brokerage_rate
    type: FLOAT
    description: >-
      Numeric rate used for brokerage fee calculation, interpreted according to fee_method. For "Per Lot"
      it is the fee per contract; for "bp of Premium" it is basis points of the trade premium; for
      "Pct of Premium" it is a percentage. The combination of fee_method + brokerage_rate + total_leg_lots
      determines the total brokerage cost deducted in instant_pnl_w_fees.
    synonyms:
    - commission rate
    - fee rate
    - broker fee rate
    business_rules: Must be interpreted alongside fee_method. Raw number without units on its own.
    source: Raw field from broker trade booking system
    formula: "CASE WHEN brokerage_rate IS NULL THEN 0 WHEN LENGTH(counterparty) = 4 AND RIGHT(counterparty, 1) = 'F' THEN 0 WHEN LENGTH(counterparty) = 4 AND RIGHT(counterparty, 1) = 'H' THEN brokerage_rate / 2 WHEN LENGTH(counterparty) = 4 AND RIGHT(counterparty, 1) = 'Q' THEN brokerage_rate / 4 ELSE brokerage_rate END"
  - name: total_leg_lots
    type: FLOAT
    description: >-
      Total number of lots (contracts) across all legs of the broker trade, used as the denominator in
      per-lot fee calculations. KPI-added field computed by summing absolute sizes across all legs.
      For single-leg trades, equals ABS(size). Used in the brokerage fee formula when fee_method is
      "Per Lot" or "Per 1000 Lot x CSize".
    synonyms:
    - total lots all legs
    - aggregate leg size
    formula: SUM(ABS(size)) across all legs sharing the same uuid + revision
    business_rules: KPI-computed field. Used for fee proration across legs.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: trade_row_key
    type: STRING
    description: >-
      Composite unique key identifying this specific trade row, typically constructed from uuid, revision,
      and leg_index. Guarantees row-level uniqueness in the table and is used for deduplication, joins,
      and ensuring idempotent processing in the KPI pipeline.
    synonyms:
    - trade key
    - row id
    - row key
    - unique row key
    business_rules: Unique per row. Use for deduplication and row-level joins.
  - name: trade_identifier
    type: STRING
    description: >-
      Human-readable trade identifier string assigned to the broker trade, distinct from the uuid.
      May be a sequence number or formatted ID from the ORA system. Used in trade blotters, reports,
      and for cross-referencing with other systems that may not use the uuid format.
    synonyms:
    - trade id
    - broker trade id
  - name: trade_type
    type: STRING
    description: >-
      Classification of the trade type within the broker trade context, indicating the nature of the
      OTC transaction. Used for segmenting broker trades by execution type or product category.
      Filter on this field when analyzing specific subsets of broker activity.
    synonyms:
    - type
    - trade category
  - name: parent_is_combo
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the parent instrument is a combo or multi-leg spread. TRUE means
      this row is part of a multi-leg structure where the parent groups the individual legs together.
      FALSE means a standalone single-leg trade. Use to filter combos in/out of analysis.
    synonyms:
    - is combo
    - is spread
    - is multi-leg
  - name: is_parent
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether this row represents the parent (aggregate) level of a combo trade
      rather than an individual leg. When TRUE, the row contains combo-level pricing and PnL; when FALSE,
      it is a specific leg. For combo analysis, filter is_parent=TRUE for combo-level metrics or
      is_parent=FALSE for leg-level detail.
    synonyms:
    - parent row
    - combo level
    business_rules: Filter is_parent=FALSE for leg-level analysis; is_parent=TRUE for combo-level summary.
  - name: is_auction
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether this broker trade occurred during an exchange auction period
      (opening, closing, or intraday auction). Auction trades may have different liquidity dynamics
      and pricing behavior. Use to segment performance analysis between continuous trading and auction periods.
    synonyms:
    - auction trade
    - during auction
  - name: contract_size
    type: FLOAT
    description: >-
      Contract multiplier (point value) for the traded instrument, representing the monetary value per
      point of price movement. For example, OESX has contract_size=10 meaning each tick is worth EUR 10.
      Critical for converting price-based edge into monetary PnL. Used in all PnL and slippage formulas:
      PnL = edge * size * contract_size * buy_sell_multiplier.
    synonyms:
    - multiplier
    - point value
    - contract multiplier
    - tick value
    business_rules: Product-specific constant. Essential for monetary PnL calculations.
  - name: instrument_hash
    type: STRING
    description: >-
      Unique hash identifier for the specific instrument (option series, future contract) involved in
      this broker trade. The canonical join key for linking to theodata, market depth, and other
      instrument-level tables. More precise than symbol which identifies the product family.
    synonyms:
    - instrument id
    - instrument key
    - inst hash
    source: 'OffFloorData.proto :: BrokerTrade.instrumentHash'
  - name: parent_instrument_hash
    type: STRING
    description: >-
      Instrument hash of the parent combo instrument when this row represents a leg. Links the leg back
      to its parent combo for aggregation. NULL for single-leg trades. Use to join legs to their parent
      combo row (where instrument_hash = parent_instrument_hash on the parent row).
    synonyms:
    - parent hash
    - combo hash
  - name: parent_feed_code
    type: STRING
    description: >-
      Exchange feed code of the parent combo instrument, the human-readable identifier used by the
      exchange for the combination product. Used in trade blotters and for cross-referencing with
      exchange-level combo definitions. NULL for single-leg trades.
    synonyms:
    - combo feed code
    - parent code
  - name: no_legs
    type: INTEGER
    description: >-
      Number of legs in this combo/spread broker trade. Value of 1 for single-leg trades, 2 for
      standard spreads (verticals, calendars), 3+ for butterflies, condors, and other complex
      structures. Use to identify trade complexity and filter for specific structure sizes.
    synonyms:
    - num legs
    - leg count
    - number of legs
  - name: leg_index
    type: STRING
    description: >-
      Zero-based index of this leg within the combo structure. "0" for the first leg, "1" for the
      second, etc. Used to identify and order legs within a multi-leg trade. For single-leg trades,
      typically "0". Combined with parent_instrument_hash to reconstruct the full combo structure.
    synonyms:
    - leg number
    - leg position
  - name: leg_ratio
    type: STRING
    description: >-
      Ratio of this leg relative to the other legs in the combo structure. Standard spreads have
      ratio "1" on both legs; ratio spreads have different values (e.g., "1" and "2" for a 1x2
      spread). Determines how many contracts of this leg trade per combo unit.
    synonyms:
    - ratio
    - leg multiplier
  - name: strike
    type: STRING
    description: >-
      Strike price (exercise price) of the option contract in this broker trade. The price at which
      the option holder can buy (call) or sell (put) the underlying. Stored as STRING to handle
      various strike formats. Used for filtering by moneyness and constructing volatility surfaces.
      NULL for futures or underlying legs.
    synonyms:
    - exercise price
    - strike price
    - K
    - strike level
  - name: option_type
    type: STRING
    description: >-
      Option type code indicating whether this is a call or put option. Typically "C" for call and
      "P" for put. NULL for non-option legs (futures, underlying). Used for segmenting broker trade
      performance by option type and for constructing strategy-level analysis.
    synonyms:
    - call put
    - C/P
    - option kind
    example_values:
    - C
    - P
  - name: currency_id
    type: INTEGER
    description: >-
      Numeric identifier for the currency in which this instrument is denominated and traded. Maps to
      a currency lookup table in the ORA system (e.g., EUR, USD, GBP). Used for multi-currency
      portfolio analysis and FX-adjusted PnL reporting.
    synonyms:
    - ccy
    - currency
    - currency code
  - name: option_type_name
    type: STRING
    description: >-
      Full name of the option type ("Call" or "Put"), the human-readable version of option_type.
      NULL for non-option legs. Use for display and reporting; option_type (short code) is more
      efficient for filtering in WHERE clauses.
    synonyms:
    - call put name
    - option name
    example_values:
    - Call
    - Put
  - name: underlying_inst_type_name
    type: STRING
    description: >-
      Instrument type name of the underlying asset (e.g., "Future", "Index", "Equity"). Identifies
      what kind of instrument underlies the traded option. Useful for segmenting analysis by
      underlying type when the same product family may have options on different underlying types.
    synonyms:
    - underlying type
    - underlying instrument type
  - name: inst_type_name
    type: STRING
    description: >-
      Instrument type name for the traded instrument itself (e.g., "Option", "Future", "Spread",
      "Strategy"). Classifies the product type of this broker trade leg. Use to filter for specific
      instrument categories in analysis. Options are the most common type in broker trades.
    synonyms:
    - instrument type
    - product type
    - inst type
    example_values:
    - Option
    - Future
    - Spread
  - name: term
    type: STRING
    description: >-
      Expiry term or tenor label describing the option's maturity cycle (e.g., "Monthly", "Weekly",
      "Quarterly"). Used to segment broker trade performance by maturity bucket. Weekly options
      often have different edge and slippage characteristics than monthly or quarterly expiries.
    synonyms:
    - tenor
    - expiry term
    - maturity
    - cycle
    example_values:
    - Monthly
    - Weekly
    - Quarterly
  - name: expiry_timestamp
    type: TIMESTAMP
    description: >-
      Expiration timestamp of the option contract, the exact date and time when the option ceases
      to exist. Used to calculate time-to-expiry (tte) and for filtering trades by expiry date.
      Critical for analyzing broker trade performance segmented by expiry cycle and for identifying
      trades in soon-to-expire options.
    synonyms:
    - expiry
    - expiration
    - maturity date
    - expiry date
    - expiration date
  - name: is_bv_invalid
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the base value (underlying reference price used in theo
      calculations) was considered invalid at the time of this broker trade. When TRUE, the KPI
      calculations (edge, slippage) may be unreliable due to stale or erroneous reference pricing.
      Use to exclude potentially bad data from quality-sensitive analytics.
    synonyms:
    - bad base value
    - invalid bv
    business_rules: Consider filtering out rows where is_bv_invalid=TRUE for accurate KPI analysis.
  - name: option_exchange
    type: STRING
    description: >-
      Name of the exchange where the option leg is listed (e.g., "EUREX", "LIFFE"). For broker trades,
      the actual execution is OTC but the instrument is exchange-listed. Used for exchange-level
      aggregation and regulatory reporting of broker-facilitated trades.
    synonyms:
    - opt exchange
    - option venue
  - name: underlying_exchange
    type: STRING
    description: >-
      Name of the exchange where the underlying instrument trades (e.g., "EUREX", "XETRA"). May differ
      from option_exchange when the option and its underlying are listed on different venues. Used for
      cross-exchange analysis and understanding reference price sources.
    synonyms:
    - under exchange
    - underlying venue
  - name: ref_delta
    type: FLOAT
    description: >-
      Reference delta of the underlying hedge leg used in the KPI computation. For combo trades with
      a futures/underlying reference component, this is the delta of that reference leg. Used in
      slippage decomposition to separate option-level slippage from delta-hedge slippage.
    synonyms:
    - reference delta
    - hedge delta
  - name: ref_gamma
    type: FLOAT
    description: >-
      Reference gamma of the underlying hedge leg used in the KPI computation. Measures the rate
      of change of delta for the reference component. Used in second-order slippage analysis to
      understand convexity effects in the hedge leg of broker combo trades.
    synonyms:
    - reference gamma
    - hedge gamma
  - name: mdepth_sequence_number
    type: STRING
    description: >-
      Sequence number of the market depth snapshot used at trade time. Identifies which specific
      market depth observation was matched to this broker trade for bid/ask spread analysis. Used
      for data quality validation and replay. Internal pipeline field.
    synonyms: []
    business_rules: Internal data quality field. Not useful for trading analytics.
  - name: curve_id
    type: STRING
    description: >-
      Identifier of the volatility curve used by the ORA pricing engine at the time of this broker
      trade. The vol curve determines the implied volatility surface from which the option's theo
      and greeks are calculated. Used to track which curve version was active at trade time.
    synonyms:
    - vol curve
    - volatility curve
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.curveId'
  - name: carry_id
    type: STRING
    description: >-
      Identifier of the carry/dividend curve used by the ORA pricing engine at trade time. The carry
      curve incorporates dividend forecasts and funding costs into the forward price calculation.
      Important for understanding theoretical value differences driven by carry assumptions.
    synonyms:
    - dividend curve
    - carry curve
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.carryId'
  - name: is_mdepth_snapshot
    type: STRING
    description: >-
      Flag indicating whether the market depth data at trade time is from a periodic snapshot rather
      than a real-time tick. Snapshots may be slightly stale compared to tick-by-tick data. Used for
      data quality assessment of the market depth context around the broker trade.
    synonyms: []
    business_rules: Internal data quality field.
  - name: is_theodata_snapshot
    type: STRING
    description: >-
      Flag indicating whether the theoretical pricing data at trade time is from a periodic snapshot
      rather than a real-time calculation. Impacts the precision of instant_edge and slippage
      calculations. Used for data quality validation in the KPI pipeline.
    synonyms: []
    business_rules: Internal data quality field.
  - name: tv_offset
    type: STRING
    description: >-
      Manual offset (adjustment) applied to the theoretical value by the trader at trade time. A
      non-zero tv_offset means the trader intentionally shifted the model price, e.g., to account
      for a view on volatility or to adjust for market conditions the model misses. This offset
      creates tv_offset_slippage in subsequent intervals, which is unique to brokertrade.
    synonyms:
    - theo offset
    - tv adjustment
    - manual offset
    business_rules: Non-zero values indicate manual price override. Drives tv_offset_slippage columns.
  - name: event_timestamp
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or market depth change) closest to the broker trade
      time. Represents the exact moment the pricing snapshot was taken for KPI calculation. More
      granular than trade_timestamp and used for precise time-alignment of greeks and market data.
    synonyms:
    - event time
    - snapshot timestamp
  - name: event_timestamp_ns
    type: INTEGER
    description: >-
      Nanosecond component of the event_timestamp, providing sub-microsecond precision for the
      pricing snapshot event. Used in high-precision time alignment of market data to broker trades.
      Internal pipeline field, not typically needed for trading analytics queries.
    synonyms: []
    business_rules: Internal precision field. Use event_timestamp for queries.
  - name: option_mdepth_timestamp
    type: STRING
    description: >-
      Timestamp of the option market depth snapshot used for this broker trade's bid/ask context.
      Indicates when the option's order book data was captured. Used for data quality checks to
      ensure the market depth context is temporally close to the actual trade time.
    synonyms: []
    business_rules: Internal data quality field.
  - name: option_mdepth_timestamp_ns
    type: STRING
    description: >-
      Nanosecond component of the option market depth snapshot timestamp, providing sub-microsecond
      precision. Used in conjunction with option_mdepth_timestamp for precise time-alignment in
      the KPI pipeline. Internal field, not relevant for trading analytics.
    synonyms: []
    business_rules: Internal precision field.
  - name: theo_event_tx_timestamp
    type: STRING
    description: >-
      Transaction timestamp of the theoretical pricing event from the ORA engine. Records when the
      theo calculation was committed. Used for data lineage and pipeline debugging to trace the
      exact theo computation that was applied to this broker trade. Internal field.
    synonyms: []
    business_rules: Internal pipeline field.
  - name: theo_event_tx_timestamp_ns
    type: STRING
    description: >-
      Nanosecond component of the theoretical event transaction timestamp. Provides sub-microsecond
      precision for the theo engine computation timestamp. Internal pipeline field for precise
      data lineage tracking, not needed for trading analytics.
    synonyms: []
    business_rules: Internal precision field.
  - name: when_timestamp_ns
    type: STRING
    description: >-
      Nanosecond component of the when_timestamp (ORA theo snapshot time). Provides sub-microsecond
      precision for the pricing snapshot used at trade time. Internal pipeline field, not typically
      needed for broker trade analytics.
    synonyms: []
    business_rules: Internal precision field.
  - name: bid_price_0
    type: STRING
    description: >-
      Best bid price (top of book) for the option at the time of the broker trade. Level 0 in the
      order book, representing the highest price a buyer is willing to pay. Used to assess whether
      the broker trade price was inside or outside the displayed market spread.
    synonyms:
    - bid 0
    - best bid
    - top bid
  - name: bid_volume_0
    type: STRING
    description: >-
      Volume (number of contracts) at the best bid price level at trade time. Indicates the displayed
      liquidity available on the bid side of the option order book. Larger bid volumes suggest deeper
      liquidity and potentially tighter effective spreads for the broker trade.
    synonyms:
    - bid size 0
    - best bid size
  - name: ask_price_0
    type: STRING
    description: >-
      Best ask price (top of book) for the option at the time of the broker trade. Level 0 in the
      order book, representing the lowest price a seller is willing to accept. Together with bid_price_0,
      defines the displayed market spread that the broker trade was executed within or outside of.
    synonyms:
    - ask 0
    - best ask
    - best offer
    - top ask
  - name: ask_volume_0
    type: STRING
    description: >-
      Volume (number of contracts) at the best ask price level at trade time. Indicates the displayed
      liquidity available on the ask/offer side of the option order book. Used alongside bid_volume_0
      for liquidity context around broker trade execution quality assessment.
    synonyms:
    - ask size 0
    - best ask size
    - offer size
  - name: ul_bid_price_0
    type: FLOAT
    description: >-
      Best bid price (level 0, top of book) for the underlying instrument at the time of the broker
      trade. Represents the highest price a buyer is willing to pay for the underlying. Used in
      delta slippage calculations and to assess underlying market conditions at trade time.
    synonyms:
    - underlying bid
    - ul best bid
  - name: ul_bid_volume_0
    type: INTEGER
    description: >-
      Volume at the best bid price level for the underlying at trade time. Indicates the displayed
      liquidity on the bid side of the underlying order book. Important for assessing whether
      delta hedges could be executed at displayed prices for this broker trade.
    synonyms:
    - underlying bid size
  - name: ul_ask_price_0
    type: FLOAT
    description: >-
      Best ask price (level 0, top of book) for the underlying instrument at the time of the broker
      trade. Together with ul_bid_price_0, defines the underlying spread. Used in delta slippage
      calculations to measure the cost of hedging the option position.
    synonyms:
    - underlying ask
    - ul best ask
  - name: ul_ask_volume_0
    type: INTEGER
    description: >-
      Volume at the best ask price level for the underlying at trade time. Indicates the displayed
      sell-side liquidity in the underlying. Relevant for assessing hedge execution feasibility
      and expected slippage on delta-neutral hedging after the broker trade.
    synonyms:
    - underlying ask size
  - name: ul_bid_price_1
    type: FLOAT
    description: >-
      Second-level bid price for the underlying instrument at trade time (depth level 1). Represents
      the next-best bid after the top of book. Provides market depth context for understanding
      underlying liquidity beyond the best price for larger broker trade hedges.
    synonyms: []
  - name: ul_bid_volume_1
    type: INTEGER
    description: >-
      Volume at the second-level bid price for the underlying at trade time. Combined with level 0,
      shows the cumulative depth available on the bid side. Relevant for larger broker trades where
      hedge execution may sweep through multiple price levels.
    synonyms: []
  - name: ul_ask_price_1
    type: FLOAT
    description: >-
      Second-level ask price for the underlying instrument at trade time (depth level 1). The next-best
      ask after top of book. Part of the 5-level depth snapshot used to assess underlying market
      conditions at the time of broker trade execution.
    synonyms: []
  - name: ul_ask_volume_1
    type: INTEGER
    description: >-
      Volume at the second-level ask price for the underlying at trade time. Combined with level 0,
      indicates cumulative sell-side liquidity depth for the underlying instrument around broker
      trade execution.
    synonyms: []
  - name: ul_bid_price_2
    type: FLOAT
    description: >-
      Third-level bid price for the underlying at trade time (depth level 2). Part of the 5-level
      market depth snapshot. Rarely queried directly; useful for detailed market microstructure
      analysis around specific broker trade executions.
    synonyms: []
  - name: ul_bid_volume_2
    type: INTEGER
    description: >-
      Volume at the third-level bid price for the underlying at trade time. Part of the depth snapshot.
      Used in detailed liquidity analysis for broker trades where underlying market depth is relevant
      to execution quality assessment.
    synonyms: []
  - name: ul_ask_price_2
    type: FLOAT
    description: >-
      Third-level ask price for the underlying at trade time (depth level 2). Part of the 5-level
      depth snapshot providing underlying market context for the broker trade.
    synonyms: []
  - name: ul_ask_volume_2
    type: INTEGER
    description: >-
      Volume at the third-level ask price for the underlying at trade time. Adds to the depth picture
      for assessing underlying liquidity conditions during broker trade execution.
    synonyms: []
  - name: ul_bid_price_3
    type: FLOAT
    description: >-
      Fourth-level bid price for the underlying at trade time (depth level 3). Deep book data providing
      context on underlying market depth. Rarely queried for standard analytics; useful for
      microstructure research.
    synonyms: []
  - name: ul_bid_volume_3
    type: INTEGER
    description: >-
      Volume at the fourth-level bid price for the underlying at trade time. Deep book liquidity data
      for the underlying instrument at the moment of broker trade execution.
    synonyms: []
  - name: ul_ask_price_3
    type: FLOAT
    description: >-
      Fourth-level ask price for the underlying at trade time (depth level 3). Deep book data for
      the underlying, part of the 5-level snapshot captured at broker trade time.
    synonyms: []
  - name: ul_ask_volume_3
    type: INTEGER
    description: >-
      Volume at the fourth-level ask price for the underlying at trade time. Deep book liquidity
      context for assessing underlying market conditions around broker trade execution. Part of the
      5-level depth snapshot used for comprehensive liquidity analysis and hedge feasibility assessment.
    synonyms: []
  - name: ul_bid_price_4
    type: FLOAT
    description: >-
      Fifth-level (deepest) bid price for the underlying at trade time (depth level 4). The furthest
      depth level captured in the snapshot. Useful only for deep liquidity analysis and rarely
      queried in standard broker trade analytics.
    synonyms: []
  - name: ul_bid_volume_4
    type: INTEGER
    description: >-
      Volume at the fifth-level bid price for the underlying at trade time. Deepest level of the
      market depth snapshot. Provides the full picture of underlying bid-side liquidity at the
      moment of broker trade execution.
    synonyms: []
  - name: ul_ask_price_4
    type: FLOAT
    description: >-
      Fifth-level (deepest) ask price for the underlying at trade time (depth level 4). The furthest
      ask depth level in the snapshot, providing the most complete view of underlying sell-side
      depth at broker trade time.
    synonyms: []
  - name: ul_ask_volume_4
    type: INTEGER
    description: >-
      Volume at the fifth-level ask price for the underlying at trade time. Deepest ask depth level.
      Together with levels 0-3, provides the complete 5-level underlying depth context at broker
      trade execution time.
    synonyms: []
  - name: raw_delta_mid_bv
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at trade time. Combines the underlying mid price with a delta
      adjustment to produce a risk-neutral reference value. Used as an intermediate in the KPI slippage
      decomposition pipeline. Not typically queried directly by traders.
    synonyms: []
    business_rules: Internal KPI calculation intermediate.
  - name: adjusted_roll
    type: STRING
    description: >-
      Roll adjustment applied to the theoretical value calculation at trade time, accounting for
      calendar roll effects between near and far expiries. Corrects for the fact that the forward
      price moves as expiries roll. Used in roll_slippage calculations.
    synonyms:
    - roll adjustment
  - name: front_month_roll
    type: STRING
    description: >-
      Roll value specific to the front-month (nearest) expiry, capturing the roll dynamics of the
      most actively traded contract. Used in KPI calculations when decomposing slippage into roll
      and non-roll components for broker trades involving near-dated options.
    synonyms:
    - near month roll
  - name: curve_id_1s
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 1 second after the broker
      trade. Tracks which vol surface version was active at the 1s horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1s interval.
  - name: carry_id_1s
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 1 second after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 1s
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1s interval.
  - name: mdepth_sequence_number_1s
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 1 second after the broker trade. Identifies
      which specific order book observation was captured at the 1s horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 1s interval.
  - name: is_mdepth_snapshot_1s
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 1s horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 1 second after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1s interval.
  - name: is_theodata_snapshot_1s
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 1s horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 1 second after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1s interval.
  - name: event_timestamp_1s
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 1s horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 1 second post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1s interval.
  - name: event_timestamp_ns_1s
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_1s, providing sub-microsecond precision for the
      1s horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1s interval.
  - name: calculated_base_val_timestamp_1s
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 1s horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 1 second post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1s interval.
  - name: calculated_base_val_timestamp_ns_1s
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_1s. Provides sub-microsecond precision
      for the base value calculation at the 1s horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1s interval.
  - name: theo_event_tx_timestamp_1s
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 1s horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 1 second snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 1s interval.
  - name: theo_event_tx_timestamp_ns_1s
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_1s. Sub-microsecond precision for the theo
      computation at the 1s horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1s interval.
  - name: when_timestamp_1s
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 1s horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 1 second after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 1s interval.
  - name: when_timestamp_ns_1s
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_1s. Sub-microsecond precision for the ORA theo
      snapshot at the 1s horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1s interval.
  - name: ul_bid_price_0_1s
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 1s horizon (1 second after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_1s
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 1s horizon (1 second after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 1s interval.
    synonyms: []
  - name: ul_ask_price_0_1s
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 1s horizon (1 second after the broker
      trade). Together with ul_bid_price_0_1s, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 1s interval.
    synonyms: []
  - name: ul_ask_volume_0_1s
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 1s horizon (1 second after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 1s interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_1s
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 1s
      horizon (1 second after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 1s.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 1s interval.
  - name: tv_offset_1s
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 1s horizon (1 second after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_1s, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_1s
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 1s horizon (1 second after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 1s interval.
  - name: ref_base_val_1s
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 1s horizon (1 second after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 1s interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 1s interval.
  - name: curve_id_5s
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 5 seconds after the broker
      trade. Tracks which vol surface version was active at the 5s horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5s interval.
  - name: carry_id_5s
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 5 seconds after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 5s
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5s interval.
  - name: mdepth_sequence_number_5s
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 5 seconds after the broker trade. Identifies
      which specific order book observation was captured at the 5s horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 5s interval.
  - name: is_mdepth_snapshot_5s
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 5s horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 5 seconds after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5s interval.
  - name: is_theodata_snapshot_5s
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 5s horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 5 seconds after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5s interval.
  - name: event_timestamp_5s
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 5s horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 5 seconds post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5s interval.
  - name: event_timestamp_ns_5s
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_5s, providing sub-microsecond precision for the
      5s horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5s interval.
  - name: calculated_base_val_timestamp_5s
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 5s horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 5 seconds post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5s interval.
  - name: calculated_base_val_timestamp_ns_5s
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_5s. Provides sub-microsecond precision
      for the base value calculation at the 5s horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5s interval.
  - name: theo_event_tx_timestamp_5s
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 5s horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 5 seconds snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 5s interval.
  - name: theo_event_tx_timestamp_ns_5s
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_5s. Sub-microsecond precision for the theo
      computation at the 5s horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5s interval.
  - name: when_timestamp_5s
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 5s horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 5 seconds after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 5s interval.
  - name: when_timestamp_ns_5s
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_5s. Sub-microsecond precision for the ORA theo
      snapshot at the 5s horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5s interval.
  - name: ul_bid_price_0_5s
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 5s horizon (5 seconds after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_5s
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 5s horizon (5 seconds after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 5s interval.
    synonyms: []
  - name: ul_ask_price_0_5s
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 5s horizon (5 seconds after the broker
      trade). Together with ul_bid_price_0_5s, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 5s interval.
    synonyms: []
  - name: ul_ask_volume_0_5s
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 5s horizon (5 seconds after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 5s interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_5s
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 5s
      horizon (5 seconds after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 5s.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 5s interval.
  - name: tv_offset_5s
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 5s horizon (5 seconds after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_5s, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_5s
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 5s horizon (5 seconds after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 5s interval.
  - name: ref_base_val_5s
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 5s horizon (5 seconds after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 5s interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 5s interval.
  - name: curve_id_10s
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 10 seconds after the broker
      trade. Tracks which vol surface version was active at the 10s horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 10s interval.
  - name: carry_id_10s
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 10 seconds after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 10s
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 10s interval.
  - name: mdepth_sequence_number_10s
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 10 seconds after the broker trade. Identifies
      which specific order book observation was captured at the 10s horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 10s interval.
  - name: is_mdepth_snapshot_10s
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 10s horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 10 seconds after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 10s interval.
  - name: is_theodata_snapshot_10s
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 10s horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 10 seconds after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 10s interval.
  - name: event_timestamp_10s
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 10s horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 10 seconds post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 10s interval.
  - name: event_timestamp_ns_10s
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_10s, providing sub-microsecond precision for the
      10s horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 10s interval.
  - name: calculated_base_val_timestamp_10s
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 10s horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 10 seconds post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 10s interval.
  - name: calculated_base_val_timestamp_ns_10s
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_10s. Provides sub-microsecond precision
      for the base value calculation at the 10s horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 10s interval.
  - name: theo_event_tx_timestamp_10s
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 10s horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 10 seconds snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 10s interval.
  - name: theo_event_tx_timestamp_ns_10s
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_10s. Sub-microsecond precision for the theo
      computation at the 10s horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 10s interval.
  - name: when_timestamp_10s
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 10s horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 10 seconds after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 10s interval.
  - name: when_timestamp_ns_10s
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_10s. Sub-microsecond precision for the ORA theo
      snapshot at the 10s horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 10s interval.
  - name: ul_bid_price_0_10s
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 10s horizon (10 seconds after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_10s
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 10s horizon (10 seconds after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 10s interval.
    synonyms: []
  - name: ul_ask_price_0_10s
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 10s horizon (10 seconds after the broker
      trade). Together with ul_bid_price_0_10s, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 10s interval.
    synonyms: []
  - name: ul_ask_volume_0_10s
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 10s horizon (10 seconds after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 10s interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_10s
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 10s
      horizon (10 seconds after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 10s.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 10s interval.
  - name: tv_offset_10s
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 10s horizon (10 seconds after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_10s, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_10s
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 10s horizon (10 seconds after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 10s interval.
  - name: ref_base_val_10s
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 10s horizon (10 seconds after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 10s interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 10s interval.
  - name: curve_id_30s
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 30 seconds after the broker
      trade. Tracks which vol surface version was active at the 30s horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 30s interval.
  - name: carry_id_30s
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 30 seconds after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 30s
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 30s interval.
  - name: mdepth_sequence_number_30s
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 30 seconds after the broker trade. Identifies
      which specific order book observation was captured at the 30s horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 30s interval.
  - name: is_mdepth_snapshot_30s
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 30s horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 30 seconds after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 30s interval.
  - name: is_theodata_snapshot_30s
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 30s horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 30 seconds after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 30s interval.
  - name: event_timestamp_30s
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 30s horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 30 seconds post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 30s interval.
  - name: event_timestamp_ns_30s
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_30s, providing sub-microsecond precision for the
      30s horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 30s interval.
  - name: calculated_base_val_timestamp_30s
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 30s horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 30 seconds post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 30s interval.
  - name: calculated_base_val_timestamp_ns_30s
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_30s. Provides sub-microsecond precision
      for the base value calculation at the 30s horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 30s interval.
  - name: theo_event_tx_timestamp_30s
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 30s horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 30 seconds snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 30s interval.
  - name: theo_event_tx_timestamp_ns_30s
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_30s. Sub-microsecond precision for the theo
      computation at the 30s horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 30s interval.
  - name: when_timestamp_30s
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 30s horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 30 seconds after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 30s interval.
  - name: when_timestamp_ns_30s
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_30s. Sub-microsecond precision for the ORA theo
      snapshot at the 30s horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 30s interval.
  - name: ul_bid_price_0_30s
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 30s horizon (30 seconds after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_30s
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 30s horizon (30 seconds after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 30s interval.
    synonyms: []
  - name: ul_ask_price_0_30s
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 30s horizon (30 seconds after the broker
      trade). Together with ul_bid_price_0_30s, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 30s interval.
    synonyms: []
  - name: ul_ask_volume_0_30s
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 30s horizon (30 seconds after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 30s interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_30s
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 30s
      horizon (30 seconds after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 30s.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 30s interval.
  - name: tv_offset_30s
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 30s horizon (30 seconds after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_30s, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_30s
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 30s horizon (30 seconds after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 30s interval.
  - name: ref_base_val_30s
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 30s horizon (30 seconds after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 30s interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 30s interval.
  - name: curve_id_1m
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 1 minute after the broker
      trade. Tracks which vol surface version was active at the 1m horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1m interval.
  - name: carry_id_1m
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 1 minute after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 1m
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1m interval.
  - name: mdepth_sequence_number_1m
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 1 minute after the broker trade. Identifies
      which specific order book observation was captured at the 1m horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 1m interval.
  - name: is_mdepth_snapshot_1m
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 1m horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 1 minute after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1m interval.
  - name: is_theodata_snapshot_1m
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 1m horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 1 minute after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1m interval.
  - name: event_timestamp_1m
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 1m horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 1 minute post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1m interval.
  - name: event_timestamp_ns_1m
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_1m, providing sub-microsecond precision for the
      1m horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1m interval.
  - name: calculated_base_val_timestamp_1m
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 1m horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 1 minute post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1m interval.
  - name: calculated_base_val_timestamp_ns_1m
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_1m. Provides sub-microsecond precision
      for the base value calculation at the 1m horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1m interval.
  - name: theo_event_tx_timestamp_1m
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 1m horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 1 minute snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 1m interval.
  - name: theo_event_tx_timestamp_ns_1m
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_1m. Sub-microsecond precision for the theo
      computation at the 1m horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1m interval.
  - name: when_timestamp_1m
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 1m horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 1 minute after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 1m interval.
  - name: when_timestamp_ns_1m
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_1m. Sub-microsecond precision for the ORA theo
      snapshot at the 1m horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1m interval.
  - name: ul_bid_price_0_1m
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 1m horizon (1 minute after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_1m
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 1m horizon (1 minute after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 1m interval.
    synonyms: []
  - name: ul_ask_price_0_1m
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 1m horizon (1 minute after the broker
      trade). Together with ul_bid_price_0_1m, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 1m interval.
    synonyms: []
  - name: ul_ask_volume_0_1m
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 1m horizon (1 minute after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 1m interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_1m
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 1m
      horizon (1 minute after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 1m.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 1m interval.
  - name: tv_offset_1m
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 1m horizon (1 minute after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_1m, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_1m
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 1m horizon (1 minute after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 1m interval.
  - name: ref_base_val_1m
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 1m horizon (1 minute after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 1m interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 1m interval.
  - name: curve_id_5m
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 5 minutes after the broker
      trade. Tracks which vol surface version was active at the 5m horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5m interval.
  - name: carry_id_5m
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 5 minutes after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 5m
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5m interval.
  - name: mdepth_sequence_number_5m
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 5 minutes after the broker trade. Identifies
      which specific order book observation was captured at the 5m horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 5m interval.
  - name: is_mdepth_snapshot_5m
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 5m horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 5 minutes after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5m interval.
  - name: is_theodata_snapshot_5m
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 5m horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 5 minutes after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5m interval.
  - name: event_timestamp_5m
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 5m horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 5 minutes post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5m interval.
  - name: event_timestamp_ns_5m
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_5m, providing sub-microsecond precision for the
      5m horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5m interval.
  - name: calculated_base_val_timestamp_5m
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 5m horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 5 minutes post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5m interval.
  - name: calculated_base_val_timestamp_ns_5m
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_5m. Provides sub-microsecond precision
      for the base value calculation at the 5m horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5m interval.
  - name: theo_event_tx_timestamp_5m
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 5m horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 5 minutes snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 5m interval.
  - name: theo_event_tx_timestamp_ns_5m
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_5m. Sub-microsecond precision for the theo
      computation at the 5m horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5m interval.
  - name: when_timestamp_5m
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 5m horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 5 minutes after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 5m interval.
  - name: when_timestamp_ns_5m
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_5m. Sub-microsecond precision for the ORA theo
      snapshot at the 5m horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5m interval.
  - name: ul_bid_price_0_5m
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 5m horizon (5 minutes after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_5m
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 5m horizon (5 minutes after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 5m interval.
    synonyms: []
  - name: ul_ask_price_0_5m
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 5m horizon (5 minutes after the broker
      trade). Together with ul_bid_price_0_5m, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 5m interval.
    synonyms: []
  - name: ul_ask_volume_0_5m
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 5m horizon (5 minutes after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 5m interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_5m
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 5m
      horizon (5 minutes after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 5m.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 5m interval.
  - name: tv_offset_5m
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 5m horizon (5 minutes after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_5m, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_5m
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 5m horizon (5 minutes after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 5m interval.
  - name: ref_base_val_5m
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 5m horizon (5 minutes after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 5m interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 5m interval.
  - name: curve_id_10m
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 10 minutes after the broker
      trade. Tracks which vol surface version was active at the 10m horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 10m interval.
  - name: carry_id_10m
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 10 minutes after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 10m
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 10m interval.
  - name: mdepth_sequence_number_10m
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 10 minutes after the broker trade. Identifies
      which specific order book observation was captured at the 10m horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 10m interval.
  - name: is_mdepth_snapshot_10m
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 10m horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 10 minutes after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 10m interval.
  - name: is_theodata_snapshot_10m
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 10m horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 10 minutes after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 10m interval.
  - name: event_timestamp_10m
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 10m horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 10 minutes post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 10m interval.
  - name: event_timestamp_ns_10m
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_10m, providing sub-microsecond precision for the
      10m horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 10m interval.
  - name: calculated_base_val_timestamp_10m
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 10m horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 10 minutes post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 10m interval.
  - name: calculated_base_val_timestamp_ns_10m
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_10m. Provides sub-microsecond precision
      for the base value calculation at the 10m horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 10m interval.
  - name: theo_event_tx_timestamp_10m
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 10m horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 10 minutes snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 10m interval.
  - name: theo_event_tx_timestamp_ns_10m
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_10m. Sub-microsecond precision for the theo
      computation at the 10m horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 10m interval.
  - name: when_timestamp_10m
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 10m horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 10 minutes after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 10m interval.
  - name: when_timestamp_ns_10m
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_10m. Sub-microsecond precision for the ORA theo
      snapshot at the 10m horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 10m interval.
  - name: ul_bid_price_0_10m
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 10m horizon (10 minutes after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_10m
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 10m horizon (10 minutes after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 10m interval.
    synonyms: []
  - name: ul_ask_price_0_10m
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 10m horizon (10 minutes after the broker
      trade). Together with ul_bid_price_0_10m, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 10m interval.
    synonyms: []
  - name: ul_ask_volume_0_10m
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 10m horizon (10 minutes after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 10m interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_10m
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 10m
      horizon (10 minutes after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 10m.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 10m interval.
  - name: tv_offset_10m
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 10m horizon (10 minutes after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_10m, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_10m
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 10m horizon (10 minutes after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 10m interval.
  - name: ref_base_val_10m
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 10m horizon (10 minutes after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 10m interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 10m interval.
  - name: curve_id_30m
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 30 minutes after the broker
      trade. Tracks which vol surface version was active at the 30m horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 30m interval.
  - name: carry_id_30m
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 30 minutes after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 30m
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 30m interval.
  - name: mdepth_sequence_number_30m
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 30 minutes after the broker trade. Identifies
      which specific order book observation was captured at the 30m horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 30m interval.
  - name: is_mdepth_snapshot_30m
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 30m horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 30 minutes after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 30m interval.
  - name: is_theodata_snapshot_30m
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 30m horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 30 minutes after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 30m interval.
  - name: event_timestamp_30m
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 30m horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 30 minutes post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 30m interval.
  - name: event_timestamp_ns_30m
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_30m, providing sub-microsecond precision for the
      30m horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 30m interval.
  - name: calculated_base_val_timestamp_30m
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 30m horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 30 minutes post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 30m interval.
  - name: calculated_base_val_timestamp_ns_30m
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_30m. Provides sub-microsecond precision
      for the base value calculation at the 30m horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 30m interval.
  - name: theo_event_tx_timestamp_30m
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 30m horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 30 minutes snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 30m interval.
  - name: theo_event_tx_timestamp_ns_30m
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_30m. Sub-microsecond precision for the theo
      computation at the 30m horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 30m interval.
  - name: when_timestamp_30m
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 30m horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 30 minutes after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 30m interval.
  - name: when_timestamp_ns_30m
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_30m. Sub-microsecond precision for the ORA theo
      snapshot at the 30m horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 30m interval.
  - name: ul_bid_price_0_30m
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 30m horizon (30 minutes after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_30m
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 30m horizon (30 minutes after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 30m interval.
    synonyms: []
  - name: ul_ask_price_0_30m
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 30m horizon (30 minutes after the broker
      trade). Together with ul_bid_price_0_30m, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 30m interval.
    synonyms: []
  - name: ul_ask_volume_0_30m
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 30m horizon (30 minutes after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 30m interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_30m
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 30m
      horizon (30 minutes after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 30m.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 30m interval.
  - name: tv_offset_30m
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 30m horizon (30 minutes after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_30m, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_30m
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 30m horizon (30 minutes after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 30m interval.
  - name: ref_base_val_30m
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 30m horizon (30 minutes after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 30m interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 30m interval.
  - name: curve_id_1h
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 1 hour after the broker
      trade. Tracks which vol surface version was active at the 1h horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1h interval.
  - name: carry_id_1h
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 1 hour after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 1h
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1h interval.
  - name: mdepth_sequence_number_1h
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken 1 hour after the broker trade. Identifies
      which specific order book observation was captured at the 1h horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 1h interval.
  - name: is_mdepth_snapshot_1h
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the 1h horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 1 hour after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1h interval.
  - name: is_theodata_snapshot_1h
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 1h horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 1 hour after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1h interval.
  - name: event_timestamp_1h
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 1h horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 1 hour post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1h interval.
  - name: event_timestamp_ns_1h
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_1h, providing sub-microsecond precision for the
      1h horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1h interval.
  - name: calculated_base_val_timestamp_1h
    type: TIMESTAMP
    description: >-
      Timestamp when the base value was calculated at the 1h horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 1 hour post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1h interval.
  - name: calculated_base_val_timestamp_ns_1h
    type: INTEGER
    description: >-
      Nanosecond component of calculated_base_val_timestamp_1h. Provides sub-microsecond precision
      for the base value calculation at the 1h horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1h interval.
  - name: theo_event_tx_timestamp_1h
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 1h horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 1 hour snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 1h interval.
  - name: theo_event_tx_timestamp_ns_1h
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_1h. Sub-microsecond precision for the theo
      computation at the 1h horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1h interval.
  - name: when_timestamp_1h
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 1h horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 1 hour after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 1h interval.
  - name: when_timestamp_ns_1h
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_1h. Sub-microsecond precision for the ORA theo
      snapshot at the 1h horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1h interval.
  - name: ul_bid_price_0_1h
    type: FLOAT
    description: >-
      Best bid price for the underlying instrument at the 1h horizon (1 hour after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_1h
    type: INTEGER
    description: >-
      Volume at the best bid price for the underlying at the 1h horizon (1 hour after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 1h interval.
    synonyms: []
  - name: ul_ask_price_0_1h
    type: FLOAT
    description: >-
      Best ask price for the underlying instrument at the 1h horizon (1 hour after the broker
      trade). Together with ul_bid_price_0_1h, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 1h interval.
    synonyms: []
  - name: ul_ask_volume_0_1h
    type: INTEGER
    description: >-
      Volume at the best ask price for the underlying at the 1h horizon (1 hour after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 1h interval slippage analysis.
    synonyms: []
  - name: calculated_base_val_1h
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 1h
      horizon (1 hour after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 1h.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 1h interval.
  - name: tv_offset_1h
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 1h horizon (1 hour after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_1h, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_1h
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 1h horizon (1 hour after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 1h interval.
  - name: ref_base_val_1h
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 1h horizon (1 hour after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 1h interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 1h interval.
  - name: mdepth_sequence_number_eod
    type: INTEGER
    description: >-
      Market depth sequence number from the snapshot taken end of day after the broker trade. Identifies
      which specific order book observation was captured at the end-of-day horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the end-of-day interval.
  - name: is_mdepth_snapshot_eod
    type: BOOLEAN
    description: >-
      Flag indicating whether the market depth data at the end-of-day horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at end of day after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the end-of-day interval.
  - name: is_theodata_snapshot_eod
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the end-of-day horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at end of day after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the end-of-day interval.
  - name: event_timestamp_eod
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the end-of-day horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured end of day post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the end-of-day interval.
  - name: event_timestamp_ns_eod
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_eod, providing sub-microsecond precision for the
      end-of-day horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the end-of-day interval.
  - name: calculated_base_val_timestamp_eod
    type: STRING
    description: >-
      Timestamp when the base value was calculated at the end-of-day horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed end of day post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the end-of-day interval.
  - name: calculated_base_val_timestamp_ns_eod
    type: STRING
    description: >-
      Nanosecond component of calculated_base_val_timestamp_eod. Provides sub-microsecond precision
      for the base value calculation at the end-of-day horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the end-of-day interval.
  - name: theo_event_tx_timestamp_eod
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the end-of-day horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the end of day snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the end-of-day interval.
  - name: theo_event_tx_timestamp_ns_eod
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_eod. Sub-microsecond precision for the theo
      computation at the end-of-day horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the end-of-day interval.
  - name: when_timestamp_eod
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the end-of-day horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations end of day after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the end-of-day interval.
  - name: when_timestamp_ns_eod
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_eod. Sub-microsecond precision for the ORA theo
      snapshot at the end-of-day horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the end-of-day interval.
  - name: ul_bid_price_0_eod
    type: STRING
    description: >-
      Best bid price for the underlying instrument at the end-of-day horizon (end of day after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_eod
    type: STRING
    description: >-
      Volume at the best bid price for the underlying at the end-of-day horizon (end of day after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the end-of-day interval.
    synonyms: []
  - name: ul_ask_price_0_eod
    type: STRING
    description: >-
      Best ask price for the underlying instrument at the end-of-day horizon (end of day after the broker
      trade). Together with ul_bid_price_0_eod, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the end-of-day interval.
    synonyms: []
  - name: ul_ask_volume_0_eod
    type: STRING
    description: >-
      Volume at the best ask price for the underlying at the end-of-day horizon (end of day after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the end-of-day interval slippage analysis.
    synonyms: []
  - name: tv_offset_eod
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the end-of-day horizon (end of day after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_eod, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_eod
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the end-of-day horizon (end of day after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the end-of-day interval.
  - name: ref_base_val_eod
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the end-of-day horizon (end of day after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the end-of-day interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the end-of-day interval.
  - name: curve_id_1D
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 1 day (next business day) after the broker
      trade. Tracks which vol surface version was active at the 1 day horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1 day interval.
  - name: carry_id_1D
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 1 day (next business day) after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 1 day
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 1 day interval.
  - name: mdepth_sequence_number_1D
    type: STRING
    description: >-
      Market depth sequence number from the snapshot taken 1 day (next business day) after the broker trade. Identifies
      which specific order book observation was captured at the 1 day horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 1 day interval.
  - name: is_mdepth_snapshot_1D
    type: STRING
    description: >-
      Flag indicating whether the market depth data at the 1 day horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 1 day (next business day) after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1 day interval.
  - name: is_theodata_snapshot_1D
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 1 day horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 1 day (next business day) after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 1 day interval.
  - name: event_timestamp_1D
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 1 day horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 1 day (next business day) post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1 day interval.
  - name: event_timestamp_ns_1D
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_1D, providing sub-microsecond precision for the
      1 day horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1 day interval.
  - name: calculated_base_val_timestamp_1D
    type: STRING
    description: >-
      Timestamp when the base value was calculated at the 1 day horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 1 day (next business day) post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 1 day interval.
  - name: calculated_base_val_timestamp_ns_1D
    type: STRING
    description: >-
      Nanosecond component of calculated_base_val_timestamp_1D. Provides sub-microsecond precision
      for the base value calculation at the 1 day horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1 day interval.
  - name: theo_event_tx_timestamp_1D
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 1 day horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 1 day (next business day) snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 1 day interval.
  - name: theo_event_tx_timestamp_ns_1D
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_1D. Sub-microsecond precision for the theo
      computation at the 1 day horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 1 day interval.
  - name: when_timestamp_1D
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 1 day horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 1 day (next business day) after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 1 day interval.
  - name: when_timestamp_ns_1D
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_1D. Sub-microsecond precision for the ORA theo
      snapshot at the 1 day horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 1 day interval.
  - name: ul_bid_price_0_1D
    type: STRING
    description: >-
      Best bid price for the underlying instrument at the 1 day horizon (1 day (next business day) after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_1D
    type: STRING
    description: >-
      Volume at the best bid price for the underlying at the 1 day horizon (1 day (next business day) after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 1 day interval.
    synonyms: []
  - name: ul_ask_price_0_1D
    type: STRING
    description: >-
      Best ask price for the underlying instrument at the 1 day horizon (1 day (next business day) after the broker
      trade). Together with ul_bid_price_0_1D, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 1 day interval.
    synonyms: []
  - name: ul_ask_volume_0_1D
    type: STRING
    description: >-
      Volume at the best ask price for the underlying at the 1 day horizon (1 day (next business day) after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 1 day interval slippage analysis.
    synonyms: []
  - name: tv_offset_1D
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 1 day horizon (1 day (next business day) after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_1D, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_1D
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 1 day horizon (1 day (next business day) after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 1 day interval.
  - name: ref_base_val_1D
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 1 day horizon (1 day (next business day) after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 1 day interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 1 day interval.
  - name: curve_id_5D
    type: STRING
    description: >-
      Volatility curve identifier from the ORA pricing engine snapshot taken 5 days (one trading week) after the broker
      trade. Tracks which vol surface version was active at the 5 day horizon. Used for data quality
      validation and curve-change attribution in slippage analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5 day interval.
  - name: carry_id_5D
    type: STRING
    description: >-
      Carry/dividend curve identifier from the pricing snapshot taken 5 days (one trading week) after the broker trade.
      Determines the dividend and funding assumptions used in the forward price calculation at the 5 day
      horizon. Used for attributing carry-driven slippage in broker trade KPI analysis.
    synonyms: []
    business_rules: Internal snapshot field for the 5 day interval.
  - name: mdepth_sequence_number_5D
    type: STRING
    description: >-
      Market depth sequence number from the snapshot taken 5 days (one trading week) after the broker trade. Identifies
      which specific order book observation was captured at the 5 day horizon. Used for data pipeline
      validation and ensuring correct snapshot alignment. Internal field.
    synonyms: []
    business_rules: Internal snapshot field for the 5 day interval.
  - name: is_mdepth_snapshot_5D
    type: STRING
    description: >-
      Flag indicating whether the market depth data at the 5 day horizon is from a periodic snapshot
      rather than a live tick. Affects precision of bid/ask context at 5 days (one trading week) after trade. Used for
      data quality assessment in the slippage pipeline. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5 day interval.
  - name: is_theodata_snapshot_5D
    type: STRING
    description: >-
      Flag indicating whether the theo pricing data at the 5 day horizon is from a periodic snapshot
      rather than a real-time calculation. Affects precision of greeks and TV at 5 days (one trading week) after the
      broker trade. Used for data quality validation. Internal field.
    synonyms: []
    business_rules: Internal data quality field for the 5 day interval.
  - name: event_timestamp_5D
    type: TIMESTAMP
    description: >-
      Timestamp of the market event (theo update or depth change) at the 5 day horizon after the broker
      trade. Records the exact moment the pricing snapshot was captured 5 days (one trading week) post-execution. Used
      for time-alignment validation in the KPI pipeline. Internal field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5 day interval.
  - name: event_timestamp_ns_5D
    type: INTEGER
    description: >-
      Nanosecond component of event_timestamp_5D, providing sub-microsecond precision for the
      5 day horizon snapshot event. Internal pipeline field for precise time-alignment. Not needed
      for standard broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5 day interval.
  - name: calculated_base_val_timestamp_5D
    type: STRING
    description: >-
      Timestamp when the base value was calculated at the 5 day horizon after the broker trade. The
      base value is the underlying reference price used in slippage decomposition. Records when
      this calculation was performed 5 days (one trading week) post-execution. Internal pipeline field.
    synonyms: []
    business_rules: Internal snapshot timestamp for the 5 day interval.
  - name: calculated_base_val_timestamp_ns_5D
    type: STRING
    description: >-
      Nanosecond component of calculated_base_val_timestamp_5D. Provides sub-microsecond precision
      for the base value calculation at the 5 day horizon. Internal pipeline field, not needed for
      standard broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5 day interval.
  - name: theo_event_tx_timestamp_5D
    type: STRING
    description: >-
      Transaction timestamp of the theo pricing event at the 5 day horizon after the broker trade.
      Records when the ORA engine committed the pricing calculation used for the 5 days (one trading week) snapshot.
      Internal data lineage field, not needed for analytics.
    synonyms: []
    business_rules: Internal pipeline field for the 5 day interval.
  - name: theo_event_tx_timestamp_ns_5D
    type: STRING
    description: >-
      Nanosecond component of theo_event_tx_timestamp_5D. Sub-microsecond precision for the theo
      computation at the 5 day horizon. Internal pipeline field for data lineage, not needed for
      broker trade analytics.
    synonyms: []
    business_rules: Internal precision field for the 5 day interval.
  - name: when_timestamp_5D
    type: STRING
    description: >-
      ORA theo snapshot timestamp at the 5 day horizon after the broker trade. Indicates when the
      pricing engine produced the greeks and TV used for slippage calculations 5 days (one trading week) after
      execution. Internal field for snapshot provenance.
    synonyms: []
    business_rules: Internal snapshot field for the 5 day interval.
  - name: when_timestamp_ns_5D
    type: STRING
    description: >-
      Nanosecond component of when_timestamp_5D. Sub-microsecond precision for the ORA theo
      snapshot at the 5 day horizon. Internal pipeline precision field, not needed for standard
      broker trade analytics queries.
    synonyms: []
    business_rules: Internal precision field for the 5 day interval.
  - name: ul_bid_price_0_5D
    type: STRING
    description: >-
      Best bid price for the underlying instrument at the 5 day horizon (5 days (one trading week) after the broker
      trade). Used in delta slippage decomposition to measure how the underlying bid moved after
      execution. Part of the forward-looking market context for slippage analysis.
    synonyms: []
  - name: ul_bid_volume_0_5D
    type: STRING
    description: >-
      Volume at the best bid price for the underlying at the 5 day horizon (5 days (one trading week) after the broker
      trade). Indicates underlying bid-side liquidity at the forward snapshot point. Part of the
      market depth context for slippage analysis at the 5 day interval.
    synonyms: []
  - name: ul_ask_price_0_5D
    type: STRING
    description: >-
      Best ask price for the underlying instrument at the 5 day horizon (5 days (one trading week) after the broker
      trade). Together with ul_bid_price_0_5D, defines the underlying spread at the forward
      snapshot point. Used in delta slippage decomposition for the 5 day interval.
    synonyms: []
  - name: ul_ask_volume_0_5D
    type: STRING
    description: >-
      Volume at the best ask price for the underlying at the 5 day horizon (5 days (one trading week) after the broker
      trade). Indicates underlying ask-side liquidity at the forward snapshot point. Part of the
      complete market depth context for the 5 day interval slippage analysis.
    synonyms: []
  - name: tv_offset_5D
    type: STRING
    description: >-
      Manual TV offset (trader adjustment) captured at the 5 day horizon (5 days (one trading week) after the broker
      trade). Shows the trader's manual price override at the forward snapshot point. Compared with
      tv_offset at trade time to compute tv_offset_slippage_5D, which is unique to brokertrade.
    synonyms: []
    business_rules: Used in tv_offset_slippage calculation. Unique to brokertrade.
  - name: raw_delta_mid_bv_5D
    type: STRING
    description: >-
      Raw delta-adjusted mid base value at the 5 day horizon (5 days (one trading week) after the broker trade).
      Intermediate value in the KPI slippage decomposition, combining underlying mid price with
      delta adjustment at the forward snapshot. Not typically queried directly.
    synonyms: []
    business_rules: Internal KPI calculation intermediate for the 5 day interval.
  - name: ref_base_val_5D
    type: STRING
    description: >-
      Reference base value for the hedge/reference leg at the 5 day horizon (5 days (one trading week) after the
      broker trade). Used in the slippage decomposition for combo trades to separate option-level
      and reference-level slippage contributions at the 5 day interval.
    synonyms: []
    business_rules: Relevant for combo trades with reference legs at the 5 day interval.
  - name: is_auction_marketdepth_1s
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 1s horizon (1 second after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 1s may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_5s
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 5s horizon (5 seconds after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 5s may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_10s
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 10s horizon (10 seconds after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 10s may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_30s
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 30s horizon (30 seconds after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 30s may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_1m
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 1m horizon (1 minute after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 1m may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_5m
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 5m horizon (5 minutes after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 5m may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_10m
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 10m horizon (10 minutes after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 10m may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_30m
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 30m horizon (30 minutes after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 30m may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_1h
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 1h horizon (1 hour after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 1h may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_eod
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the end-of-day horizon (end of day after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at end-of-day may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_1D
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 1 day horizon (1 day after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 1 day may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth_5D
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the 5 day horizon (5 days after
      the broker trade) was captured during an exchange auction period. When TRUE, the bid/ask
      context at 5 day may not reflect continuous trading conditions, affecting slippage reliability.
    synonyms: []
    business_rules: Consider excluding auction-period snapshots for reliable slippage analysis.
  - name: is_auction_marketdepth
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether the market depth snapshot at the time of the broker trade was
      captured during an exchange auction period (opening, closing, or intraday). Auction-period
      market depth may not reflect normal continuous trading conditions, affecting the reliability
      of bid/ask spread context for execution quality analysis.
    synonyms:
    - auction depth flag
  - name: is_ref_trade
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether this row represents a reference (hedge) trade rather than a
      primary option trade. Reference trades are the underlying or futures legs used for delta hedging
      in combo broker trades. Use to separate hedge activity from directional option trading in analysis.
    synonyms:
    - reference trade
    - hedge trade
  - name: is_ref_leg_zero_size
    type: INTEGER
    description: >-
      Flag indicating whether the reference (hedge) leg of this combo broker trade has zero size.
      A value of 1 means no delta hedge was executed alongside the option leg. Used to identify
      unhedged broker trades and filter out no-hedge combos from hedge analysis.
    synonyms:
    - zero size ref
    - no hedge flag
  - name: partition_timestamp_local
    type: TIMESTAMP
    description: >-
      Local-timezone version of the partition timestamp, representing the local market time for
      partitioning purposes. Used internally by the data pipeline for timezone-aware partition
      assignment. Not typically needed for trading analytics; use trade_date instead.
    synonyms: []
    business_rules: Internal pipeline field. Use trade_date for date filtering.
  - name: partition_number
    type: INTEGER
    description: >-
      Internal partition number assigned by the data pipeline during ingestion. Used for parallel
      processing and data distribution within the pipeline. Not relevant for trading analytics
      queries. Use trade_date for partition-based filtering.
    synonyms: []
    business_rules: Internal pipeline field.
  - name: ref_base_val
    type: FLOAT
    description: >-
      Reference base value at trade time, the underlying reference price used as the baseline for
      the hedge/reference leg in combo broker trades. This is the starting point for calculating
      delta slippage on the reference component across all forward intervals.
    synonyms:
    - reference base value
  - name: contract_size_at_zero_index
    type: FLOAT
    description: >-
      Contract size (multiplier) for the first leg (index 0) of the broker trade. For single-leg
      trades, equals contract_size. For combos, this is the specific multiplier of the first leg,
      which may differ from other legs. Used in fee proration and leg-level PnL calculations.
    synonyms:
    - first leg multiplier
  - name: ref_term
    type: STRING
    description: >-
      Expiry term or tenor label for the reference (hedge) leg of a combo broker trade. Identifies
      the maturity cycle of the underlying/futures hedge (e.g., "Monthly", "Quarterly"). Used to
      analyze how hedge tenor affects slippage and roll dynamics in combo broker trades.
    synonyms:
    - reference term
    - hedge tenor
  - name: ref_size
    type: INTEGER
    description: >-
      Trade size (number of contracts) for the reference (hedge) leg of a combo broker trade.
      Represents how many underlying or futures contracts were traded as the delta hedge alongside
      the option leg. Compare with size (option leg) for hedge ratio analysis.
    synonyms:
    - reference size
    - hedge size
    - hedge lots
  - name: ref_contract_size
    type: FLOAT
    description: >-
      Contract multiplier for the reference (hedge) leg of a combo broker trade. May differ from
      the option leg's contract_size when the hedge uses a different underlying instrument or
      contract specification. Used in monetary PnL calculations for the reference component.
    synonyms:
    - reference multiplier
    - hedge contract size
  - name: exchange
    type: STRING
    description: >-
      Name of the exchange where the traded instrument is listed (e.g., "EUREX", "LIFFE", "CME").
      For broker trades the actual execution is OTC, but this indicates the exchange listing of the
      instrument. Used for exchange-level reporting, regulatory attribution, and grouping broker
      trades by venue.
    synonyms:
    - venue
    - market
    - listing exchange
  - name: trade_ref_price
    type: FLOAT
    description: >-
      Reference price at trade time specifically for the underlying/futures reference component.
      May differ from ref_price due to adjustments. Used in the KPI pipeline for computing
      reference-leg slippage in combo broker trades.
    synonyms:
    - trade reference price
  - name: mid_base_val
    type: FLOAT
    description: >-
      Mid base value at trade time, calculated as the midpoint of the underlying bid and ask
      adjusted for the forward curve. Used as the neutral reference point for delta slippage
      decomposition, representing the fair underlying price without bid-ask bias at trade time.
    synonyms:
    - mid base value
    - mid bv
    formula: '(ul_bid_price_0 + ul_ask_price_0) / 2'
  - name: base_adjustment
    type: INTEGER
    description: >-
      Adjustment applied to the base value calculation at trade time, accounting for factors like
      special dividends, corporate actions, or curve corrections. Added to the raw base value to
      produce the calculated_base_val used in slippage decomposition. Typically zero for standard trades.
    synonyms:
    - bv adjustment
    formula: '0'
  - name: fees
    type: INTEGER
    description: >-
      Exchange and clearing fees for this broker trade in the instrument's currency. Represents the
      non-brokerage transaction costs (exchange fees, clearing fees, regulatory levies). Distinct from
      brokerage costs which are computed separately via fee_method and brokerage_rate. Both are
      deducted in instant_pnl_w_fees to produce the fully-loaded PnL.
    synonyms:
    - exchange fees
    - transaction costs
    - clearing fees
    - exch fees
    formula: '0'
  - name: trade_side
    type: STRING
    description: >-
      Side of the broker trade from Mako's perspective, indicating whether Mako bought or sold.
      Typically "Buy" or "Sell". Determines the sign convention for PnL calculations. When Mako buys,
      a lower price relative to theo is positive edge; when Mako sells, a higher price is positive edge.
    synonyms:
    - side
    - buy sell
    - direction
    - B/S
    example_values:
    - Buy
    - Sell
    formula: "CASE WHEN parent_is_combo = true AND is_parent = true AND leg_ratio_at_zero_index * size_at_zero_index > 0 THEN 'BUY' WHEN parent_is_combo = true AND is_parent = true AND leg_ratio_at_zero_index * size_at_zero_index < 0 THEN 'SELL' WHEN size > 0 THEN 'BUY' WHEN size < 0 THEN 'SELL' ELSE 'NULL' END"
  - name: size
    type: INTEGER
    description: >-
      Trade size for this specific leg in number of contracts (lots). Signed value where positive
      indicates buy and negative indicates sell (or vice versa depending on convention). Used in PnL
      calculation: instant_pnl = instant_edge * ABS(size) * contract_size. For combos, this is the
      per-leg size; see total_traded_size for aggregate.
    synonyms:
    - quantity
    - lots
    - contracts
    - volume
    - trade size
    formula: "CASE WHEN is_parent = true AND trade_side = 'BUY' THEN CAST(total_traded_size AS INT64) WHEN is_parent = true AND trade_side = 'SELL' THEN CAST(total_traded_size * -1 AS INT64) ELSE CAST(size AS INT64) END"
  - name: buy_sell_multiplier
    type: INTEGER
    description: >-
      Directional multiplier derived from trade_side: +1 for buy, -1 for sell. Used in all PnL and
      slippage calculations to correctly sign the monetary impact. For example,
      instant_edge = (trade_tv - price) * buy_sell_multiplier, ensuring positive edge means profitable
      regardless of buy/sell direction.
    synonyms:
    - direction multiplier
    - bs multiplier
    formula: "CASE WHEN trade_side IN ('BUY', '66') THEN 1 WHEN trade_side IN ('SELL', '83') THEN -1 ELSE 0 END"
    business_rules: Always +1 or -1. Multiplied into all PnL and slippage calculations.
  - name: market_mako_multiplier
    type: INTEGER
    description: >-
      Directional multiplier unique to brokertrade, derived from market_or_mako_trade. Equals -1
      when market_or_mako_trade='market' (Mako is taking), +1 when 'mako' (Mako is providing).
      Adjusts PnL and slippage calculations for the perspective of the trade direction in the OTC
      context. Multiplied into instant_pnl_w_fees and tv_offset_slippage calculations.
    synonyms:
    - mako market multiplier
    formula: "CASE WHEN market_or_mako_trade = 'market' THEN -1 ELSE 1 END"
    business_rules: KPI-Added field. Unique to brokertrade. Combined with buy_sell_multiplier in PnL formulas.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: adjusted_trade_ref_price
    type: FLOAT
    description: >-
      Adjusted reference price for the underlying at trade time, correcting the raw ref_price for
      roll, carry, and other adjustments. Used as the reference leg price in combo trade PnL
      calculations. More accurate than raw ref_price for slippage decomposition.
    synonyms:
    - adjusted ref price
    formula: 'trade_ref_price + adjusted_roll'
  - name: ref_trade_side
    type: STRING
    description: >-
      Trade side (Buy/Sell) for the reference (hedge) leg of a combo broker trade. May be opposite
      to the option leg's trade_side for delta-neutral hedges. Used to correctly sign the reference
      leg's PnL contribution in combo trade analysis.
    synonyms:
    - ref side
    - hedge side
  - name: ref_buy_sell_multiplier
    type: INTEGER
    description: >-
      Directional multiplier for the reference (hedge) leg: +1 for buy, -1 for sell. Applied to the
      reference component's PnL and slippage calculations to correctly sign the hedge contribution.
      May differ from buy_sell_multiplier when the hedge is in the opposite direction to the option.
    synonyms:
    - ref direction multiplier
    formula: "CASE WHEN ref_trade_side IN ('BUY', '66') THEN 1 WHEN ref_trade_side IN ('SELL', '83') THEN -1 ELSE 0 END"
  - name: instant_edge
    type: FLOAT
    description: >-
      Instantaneous edge at the time of the broker trade, measuring the theoretical profit per unit
      (tick-level) before fees and slippage. Calculated as (trade_tv - price) * buy_sell_multiplier.
      Positive edge means Mako traded at a price better than the model's fair value. This is the
      primary performance metric for individual broker trades. Also referred to as edge_bps when
      normalized.
    synonyms:
    - edge
    - trading edge
    - edge_bps
    - instant edge
    - theoretical edge
    formula: "CASE WHEN trade_side = 'BUY' THEN (trade_tv - price) * market_mako_multiplier WHEN trade_side = 'SELL' THEN (price - trade_tv) * market_mako_multiplier ELSE 0 END"
    business_rules: Positive = profitable trade relative to model. Key KPI metric.
  - name: instant_pnl
    type: FLOAT
    description: >-
      Instant profit and loss at time of the broker trade in monetary terms (instrument currency),
      scaling instant_edge by trade size and contract multiplier. This is the gross PnL before any
      fees (exchange or brokerage). Formula: instant_edge * ABS(size) * contract_size. Use
      instant_pnl_w_fees for the fee-adjusted net figure.
    synonyms:
    - PnL
    - profit
    - loss
    - instant profit
    - gross pnl
    formula: "CASE WHEN trade_side = 'BUY' THEN (trade_tv - price) * ABS(size) * contract_size * market_mako_multiplier WHEN trade_side = 'SELL' THEN (price - trade_tv) * ABS(size) * contract_size * market_mako_multiplier ELSE 0 END"
    business_rules: Gross PnL before fees. Use instant_pnl_w_fees for net.
  - name: instant_pnl_w_fees
    type: FLOAT
    description: >-
      Instant PnL after deducting both exchange fees and brokerage costs. This is the fully-loaded
      net profit for the broker trade, unique to brokertrade table. The brokerage fee calculation
      is complex, branching on fee_method (Per Lot, bp of Premium, Pct of Premium, etc.) combined
      with brokerage_rate and total_leg_lots. This is the bottom-line KPI for broker trade
      performance including all transaction costs.
    synonyms:
    - PnL with fees
    - net PnL
    - profit after fees
    - pnl net
    - net profit
    - pnl after costs
    formula: 'See fee_methods below'
    business_rules: >-
      Unique to brokertrade. The definitive net PnL metric. Brokerage cost formula varies by
      fee_method: Per Lot = brokerage_rate * total_leg_lots; bp of Premium = brokerage_rate/10000
      * premium * size; etc.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_change_1s_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 1s horizon (1 second after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1s_option_component
    - theo change 1s option_component
    formula: '(adjusted_tv_1s - trade_tv)'
  - name: tv_change_buysell_1s_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 1s
      horizon (1 second after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 1s.
    synonyms:
    - pnl 1s_option_component
    - signed tv change 1s option_component
    formula: '(adjusted_tv_1s - trade_tv) * buy_sell_multiplier'
  - name: tv_change_1s_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 1s horizon (1 second after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1s_ref_component
    - theo change 1s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1s - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_1s_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 1s
      horizon (1 second after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 1s.
    synonyms:
    - pnl 1s_ref_component
    - signed tv change 1s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1s - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_5s_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 5s horizon (5 seconds after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5s_option_component
    - theo change 5s option_component
    formula: '(adjusted_tv_5s - trade_tv)'
  - name: tv_change_buysell_5s_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 5s
      horizon (5 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 5s.
    synonyms:
    - pnl 5s_option_component
    - signed tv change 5s option_component
    formula: '(adjusted_tv_5s - trade_tv) * buy_sell_multiplier'
  - name: tv_change_5s_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 5s horizon (5 seconds after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5s_ref_component
    - theo change 5s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5s - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_5s_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 5s
      horizon (5 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 5s.
    synonyms:
    - pnl 5s_ref_component
    - signed tv change 5s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5s - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_10s_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 10s horizon (10 seconds after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 10s_option_component
    - theo change 10s option_component
    formula: '(adjusted_tv_10s - trade_tv)'
  - name: tv_change_buysell_10s_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 10s
      horizon (10 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 10s.
    synonyms:
    - pnl 10s_option_component
    - signed tv change 10s option_component
    formula: '(adjusted_tv_10s - trade_tv) * buy_sell_multiplier'
  - name: tv_change_10s_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 10s horizon (10 seconds after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 10s_ref_component
    - theo change 10s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10s - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_10s_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 10s
      horizon (10 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 10s.
    synonyms:
    - pnl 10s_ref_component
    - signed tv change 10s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10s - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_30s_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 30s horizon (30 seconds after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 30s_option_component
    - theo change 30s option_component
    formula: '(adjusted_tv_30s - trade_tv)'
  - name: tv_change_buysell_30s_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 30s
      horizon (30 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 30s.
    synonyms:
    - pnl 30s_option_component
    - signed tv change 30s option_component
    formula: '(adjusted_tv_30s - trade_tv) * buy_sell_multiplier'
  - name: tv_change_30s_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 30s horizon (30 seconds after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 30s_ref_component
    - theo change 30s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30s - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_30s_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 30s
      horizon (30 seconds after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 30s.
    synonyms:
    - pnl 30s_ref_component
    - signed tv change 30s ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30s - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_1m_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 1m horizon (1 minute after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1m_option_component
    - theo change 1m option_component
    formula: '(adjusted_tv_1m - trade_tv)'
  - name: tv_change_buysell_1m_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 1m
      horizon (1 minute after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 1m.
    synonyms:
    - pnl 1m_option_component
    - signed tv change 1m option_component
    formula: '(adjusted_tv_1m - trade_tv) * buy_sell_multiplier'
  - name: tv_change_1m_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 1m horizon (1 minute after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1m_ref_component
    - theo change 1m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1m - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_1m_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 1m
      horizon (1 minute after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 1m.
    synonyms:
    - pnl 1m_ref_component
    - signed tv change 1m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1m - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_5m_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 5m horizon (5 minutes after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5m_option_component
    - theo change 5m option_component
    formula: '(adjusted_tv_5m - trade_tv)'
  - name: tv_change_buysell_5m_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 5m
      horizon (5 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 5m.
    synonyms:
    - pnl 5m_option_component
    - signed tv change 5m option_component
    formula: '(adjusted_tv_5m - trade_tv) * buy_sell_multiplier'
  - name: tv_change_5m_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 5m horizon (5 minutes after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5m_ref_component
    - theo change 5m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5m - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_5m_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 5m
      horizon (5 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 5m.
    synonyms:
    - pnl 5m_ref_component
    - signed tv change 5m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5m - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_10m_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 10m horizon (10 minutes after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 10m_option_component
    - theo change 10m option_component
    formula: '(adjusted_tv_10m - trade_tv)'
  - name: tv_change_buysell_10m_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 10m
      horizon (10 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 10m.
    synonyms:
    - pnl 10m_option_component
    - signed tv change 10m option_component
    formula: '(adjusted_tv_10m - trade_tv) * buy_sell_multiplier'
  - name: tv_change_10m_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 10m horizon (10 minutes after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 10m_ref_component
    - theo change 10m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10m - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_10m_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 10m
      horizon (10 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 10m.
    synonyms:
    - pnl 10m_ref_component
    - signed tv change 10m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10m - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_30m_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 30m horizon (30 minutes after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 30m_option_component
    - theo change 30m option_component
    formula: '(adjusted_tv_30m - trade_tv)'
  - name: tv_change_buysell_30m_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 30m
      horizon (30 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 30m.
    synonyms:
    - pnl 30m_option_component
    - signed tv change 30m option_component
    formula: '(adjusted_tv_30m - trade_tv) * buy_sell_multiplier'
  - name: tv_change_30m_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 30m horizon (30 minutes after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 30m_ref_component
    - theo change 30m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30m - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_30m_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 30m
      horizon (30 minutes after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 30m.
    synonyms:
    - pnl 30m_ref_component
    - signed tv change 30m ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30m - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_1h_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 1h horizon (1 hour after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1h_option_component
    - theo change 1h option_component
    formula: '(adjusted_tv_1h - trade_tv)'
  - name: tv_change_buysell_1h_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 1h
      horizon (1 hour after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 1h.
    synonyms:
    - pnl 1h_option_component
    - signed tv change 1h option_component
    formula: '(adjusted_tv_1h - trade_tv) * buy_sell_multiplier'
  - name: tv_change_1h_ref_component
    type: FLOAT
    description: >-
      Theoretical value change for the reference (hedge) leg at the 1h horizon (1 hour after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1h_ref_component
    - theo change 1h ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1h - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_1h_ref_component
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 1h
      horizon (1 hour after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 1h.
    synonyms:
    - pnl 1h_ref_component
    - signed tv change 1h ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1h - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_eod_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the end-of-day horizon (end of day after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move eod_option_component
    - theo change eod option_component
    formula: '(adjusted_tv_eod - trade_tv)'
  - name: tv_change_buysell_eod_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the end-of-day
      horizon (end of day after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at end-of-day.
    synonyms:
    - pnl eod_option_component
    - signed tv change eod option_component
    formula: '(adjusted_tv_eod - trade_tv) * buy_sell_multiplier'
  - name: tv_change_eod_ref_component
    type: STRING
    description: >-
      Theoretical value change for the reference (hedge) leg at the end-of-day horizon (end of day after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move eod_ref_component
    - theo change eod ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_eod - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_eod_ref_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the end-of-day
      horizon (end of day after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at end-of-day.
    synonyms:
    - pnl eod_ref_component
    - signed tv change eod ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_eod - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_1D_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 1 day horizon (1 day after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1d_option_component
    - theo change 1d option_component
    formula: '(adjusted_tv_1D - trade_tv)'
  - name: tv_change_buysell_1D_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 1 day
      horizon (1 day after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 1 day.
    synonyms:
    - pnl 1d_option_component
    - signed tv change 1d option_component
    formula: '(adjusted_tv_1D - trade_tv) * buy_sell_multiplier'
  - name: tv_change_1D_ref_component
    type: STRING
    description: >-
      Theoretical value change for the reference (hedge) leg at the 1 day horizon (1 day after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 1d_ref_component
    - theo change 1d ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1D - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_1D_ref_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 1 day
      horizon (1 day after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 1 day.
    synonyms:
    - pnl 1d_ref_component
    - signed tv change 1d ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1D - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: tv_change_5D_option_component
    type: STRING
    description: >-
      Theoretical value change for the option leg at the 5 day horizon (5 days after the broker
      trade). Measures how much the option leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5d_option_component
    - theo change 5d option_component
    formula: '(adjusted_tv_5D - trade_tv)'
  - name: tv_change_buysell_5D_option_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the option leg at the 5 day
      horizon (5 days after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The option leg's contribution to forward-looking PnL at 5 day.
    synonyms:
    - pnl 5d_option_component
    - signed tv change 5d option_component
    formula: '(adjusted_tv_5D - trade_tv) * buy_sell_multiplier'
  - name: tv_change_5D_ref_component
    type: STRING
    description: >-
      Theoretical value change for the reference (hedge) leg at the 5 day horizon (5 days after the broker
      trade). Measures how much the reference (hedge) leg's theo moved after execution. Raw (unsigned) change
      used in slippage decomposition to attribute PnL to option vs reference components.
    synonyms:
    - tv move 5d_ref_component
    - theo change 5d ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5D - trade_ref_price) ELSE 0 END'
  - name: tv_change_buysell_5D_ref_component
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change for the reference (hedge) leg at the 5 day
      horizon (5 days after the broker trade). Signed by buy_sell_multiplier so positive values
      indicate favorable moves. The reference (hedge) leg's contribution to forward-looking PnL at 5 day.
    synonyms:
    - pnl 5d_ref_component
    - signed tv change 5d ref_component
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5D - trade_ref_price) * ref_buy_sell_multiplier ELSE 0 END'
  - name: other_slippage_1s_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 1s horizon (1 second after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1s.
    synonyms:
    - other slip 1s
    formula: '((adjusted_tv_1s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1s_per_unit + roll_slippage_1s_per_unit)'
  - name: other_slippage_1s_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 1s horizon (1 second after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1s.
    synonyms:
    - other slip 1s
    formula: '((adjusted_tv_1s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1s + roll_slippage_1s)'
  - name: other_slippage_1s_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 1s horizon (1 second after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1s.
    synonyms:
    - other slip 1s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1s - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_1s_per_unit + roll_slippage_1s_per_unit) ELSE 0 END'
  - name: other_slippage_1s_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 1s horizon (1 second after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1s.
    synonyms:
    - other slip 1s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1s - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_1s + roll_slippage_1s) ELSE 0 END'
  - name: other_slippage_5s_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 5s horizon (5 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5s.
    synonyms:
    - other slip 5s
    formula: '((adjusted_tv_5s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5s_per_unit + roll_slippage_5s_per_unit)'
  - name: other_slippage_5s_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 5s horizon (5 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5s.
    synonyms:
    - other slip 5s
    formula: '((adjusted_tv_5s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5s + roll_slippage_5s)'
  - name: other_slippage_5s_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 5s horizon (5 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5s.
    synonyms:
    - other slip 5s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5s - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_5s_per_unit + roll_slippage_5s_per_unit) ELSE 0 END'
  - name: other_slippage_5s_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 5s horizon (5 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5s.
    synonyms:
    - other slip 5s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5s - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_5s + roll_slippage_5s) ELSE 0 END'
  - name: other_slippage_10s_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 10s horizon (10 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10s.
    synonyms:
    - other slip 10s
    formula: '((adjusted_tv_10s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_10s_per_unit + roll_slippage_10s_per_unit)'
  - name: other_slippage_10s_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 10s horizon (10 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10s.
    synonyms:
    - other slip 10s
    formula: '((adjusted_tv_10s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_10s + roll_slippage_10s)'
  - name: other_slippage_10s_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 10s horizon (10 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10s.
    synonyms:
    - other slip 10s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10s - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_10s_per_unit + roll_slippage_10s_per_unit) ELSE 0 END'
  - name: other_slippage_10s_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 10s horizon (10 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10s.
    synonyms:
    - other slip 10s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10s - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_10s + roll_slippage_10s) ELSE 0 END'
  - name: other_slippage_30s_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 30s horizon (30 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30s.
    synonyms:
    - other slip 30s
    formula: '((adjusted_tv_30s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_30s_per_unit + roll_slippage_30s_per_unit)'
  - name: other_slippage_30s_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 30s horizon (30 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30s.
    synonyms:
    - other slip 30s
    formula: '((adjusted_tv_30s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_30s + roll_slippage_30s)'
  - name: other_slippage_30s_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 30s horizon (30 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30s.
    synonyms:
    - other slip 30s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30s - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_30s_per_unit + roll_slippage_30s_per_unit) ELSE 0 END'
  - name: other_slippage_30s_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 30s horizon (30 seconds after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30s.
    synonyms:
    - other slip 30s
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30s - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_30s + roll_slippage_30s) ELSE 0 END'
  - name: other_slippage_1m_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 1m horizon (1 minute after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1m.
    synonyms:
    - other slip 1m
    formula: '((adjusted_tv_1m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1m_per_unit + roll_slippage_1m_per_unit)'
  - name: other_slippage_1m_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 1m horizon (1 minute after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1m.
    synonyms:
    - other slip 1m
    formula: '((adjusted_tv_1m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1m + roll_slippage_1m)'
  - name: other_slippage_1m_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 1m horizon (1 minute after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1m.
    synonyms:
    - other slip 1m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1m - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_1m_per_unit + roll_slippage_1m_per_unit) ELSE 0 END'
  - name: other_slippage_1m_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 1m horizon (1 minute after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1m.
    synonyms:
    - other slip 1m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1m - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_1m + roll_slippage_1m) ELSE 0 END'
  - name: other_slippage_5m_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 5m horizon (5 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5m.
    synonyms:
    - other slip 5m
    formula: '((adjusted_tv_5m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5m_per_unit + roll_slippage_5m_per_unit)'
  - name: other_slippage_5m_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 5m horizon (5 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5m.
    synonyms:
    - other slip 5m
    formula: '((adjusted_tv_5m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5m + roll_slippage_5m)'
  - name: other_slippage_5m_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 5m horizon (5 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5m.
    synonyms:
    - other slip 5m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5m - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_5m_per_unit + roll_slippage_5m_per_unit) ELSE 0 END'
  - name: other_slippage_5m_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 5m horizon (5 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5m.
    synonyms:
    - other slip 5m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5m - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_5m + roll_slippage_5m) ELSE 0 END'
  - name: other_slippage_10m_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 10m horizon (10 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10m.
    synonyms:
    - other slip 10m
    formula: '((adjusted_tv_10m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_10m_per_unit + roll_slippage_10m_per_unit)'
  - name: other_slippage_10m_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 10m horizon (10 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10m.
    synonyms:
    - other slip 10m
    formula: '((adjusted_tv_10m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_10m + roll_slippage_10m)'
  - name: other_slippage_10m_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 10m horizon (10 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10m.
    synonyms:
    - other slip 10m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10m - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_10m_per_unit + roll_slippage_10m_per_unit) ELSE 0 END'
  - name: other_slippage_10m_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 10m horizon (10 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 10m.
    synonyms:
    - other slip 10m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_10m - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_10m + roll_slippage_10m) ELSE 0 END'
  - name: other_slippage_30m_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 30m horizon (30 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30m.
    synonyms:
    - other slip 30m
    formula: '((adjusted_tv_30m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_30m_per_unit + roll_slippage_30m_per_unit)'
  - name: other_slippage_30m_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 30m horizon (30 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30m.
    synonyms:
    - other slip 30m
    formula: '((adjusted_tv_30m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_30m + roll_slippage_30m)'
  - name: other_slippage_30m_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 30m horizon (30 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30m.
    synonyms:
    - other slip 30m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30m - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_30m_per_unit + roll_slippage_30m_per_unit) ELSE 0 END'
  - name: other_slippage_30m_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 30m horizon (30 minutes after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 30m.
    synonyms:
    - other slip 30m
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_30m - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_30m + roll_slippage_30m) ELSE 0 END'
  - name: other_slippage_1h_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 1h horizon (1 hour after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1h.
    synonyms:
    - other slip 1h
    formula: '((adjusted_tv_1h - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1h_per_unit + roll_slippage_1h_per_unit)'
  - name: other_slippage_1h_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 1h horizon (1 hour after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1h.
    synonyms:
    - other slip 1h
    formula: '((adjusted_tv_1h - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1h + roll_slippage_1h)'
  - name: other_slippage_1h_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 1h horizon (1 hour after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1h.
    synonyms:
    - other slip 1h
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1h - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_1h_per_unit + roll_slippage_1h_per_unit) ELSE 0 END'
  - name: other_slippage_1h_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 1h horizon (1 hour after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1h.
    synonyms:
    - other slip 1h
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1h - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_1h + roll_slippage_1h) ELSE 0 END'
  - name: other_slippage_eod_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the end-of-day horizon (end of day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at end-of-day.
    synonyms:
    - other slip eod
    formula: '((adjusted_tv_eod - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_eod_per_unit + roll_slippage_eod_per_unit)'
  - name: other_slippage_eod_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the end-of-day horizon (end of day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at end-of-day.
    synonyms:
    - other slip eod
    formula: '((adjusted_tv_eod - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_eod + roll_slippage_eod)'
  - name: other_slippage_eod_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the end-of-day horizon (end of day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at end-of-day.
    synonyms:
    - other slip eod
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_eod - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_eod_per_unit + roll_slippage_eod_per_unit) ELSE 0 END'
  - name: other_slippage_eod_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the end-of-day horizon (end of day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at end-of-day.
    synonyms:
    - other slip eod
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_eod - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_eod + roll_slippage_eod) ELSE 0 END'
  - name: other_slippage_1D_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 1 day horizon (1 day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1 day.
    synonyms:
    - other slip 1d
    formula: '((adjusted_tv_1D - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1D_per_unit + roll_slippage_1D_per_unit)'
  - name: other_slippage_1D_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 1 day horizon (1 day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1 day.
    synonyms:
    - other slip 1d
    formula: '((adjusted_tv_1D - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1D + roll_slippage_1D)'
  - name: other_slippage_1D_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 1 day horizon (1 day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1 day.
    synonyms:
    - other slip 1d
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1D - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_1D_per_unit + roll_slippage_1D_per_unit) ELSE 0 END'
  - name: other_slippage_1D_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 1 day horizon (1 day after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 1 day.
    synonyms:
    - other slip 1d
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_1D - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_1D + roll_slippage_1D) ELSE 0 END'
  - name: other_slippage_5D_per_unit_option_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the option leg at the 5 day horizon (5 days after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5 day.
    synonyms:
    - other slip 5d
    formula: '((adjusted_tv_5D - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5D_per_unit + roll_slippage_5D_per_unit)'
  - name: other_slippage_5D_option_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the option leg at the 5 day horizon (5 days after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5 day.
    synonyms:
    - other slip 5d
    formula: '((adjusted_tv_5D - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5D + roll_slippage_5D)'
  - name: other_slippage_5D_per_unit_ref_component
    type: STRING
    description: >-
      Other (residual) slippage per-unit (per contract) for the reference (hedge) leg at the 5 day horizon (5 days after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5 day.
    synonyms:
    - other slip 5d
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5D - trade_ref_price) * ref_buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * ref_contract_size * market_mako_multiplier - (delta_slippage_5D_per_unit + roll_slippage_5D_per_unit) ELSE 0 END'
  - name: other_slippage_5D_ref_component
    type: STRING
    description: >-
      Other (residual) slippage total (size-weighted) for the reference (hedge) leg at the 5 day horizon (5 days after
      the broker trade). Captures slippage not attributable to delta, volatility, roll, or TV offset
      changes. The unexplained component in the slippage decomposition at 5 day.
    synonyms:
    - other slip 5d
    formula: 'CASE WHEN is_ref_trade THEN (calculated_base_val_5D - trade_ref_price) * ref_buy_sell_multiplier * ref_contract_size * ABS(ref_size) * market_mako_multiplier - (delta_slippage_5D + roll_slippage_5D) ELSE 0 END'
  - name: vol_path_estimate_1s
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 1s horizon (1 second after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 1s.
    synonyms:
    - vol path 1s
    formula: '((calculated_base_val_1s - mid_base_val) * ((delta_1s - raw_delta_1s) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_1s_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 1s horizon (1 second after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 1s
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 1s
    - vol slippage per unit 1s
    formula: '((vol_1s - vol) * ((vega_1s + vega) / 2) - vol_path_estimate_1s) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_1s
    type: FLOAT
    description: >-
      Total volatility slippage at the 1s horizon (1 second after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 1 second.
      Calculated as vol_slippage_1s_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 1s
    - vol slippage 1s
    formula: '((vol_1s - vol) * ((vega_1s + vega) / 2) - vol_path_estimate_1s) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_1s_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 1s horizon (1 second after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 1s.
    synonyms:
    - other slip 1s
    - residual slip 1s
    formula: '((adjusted_tv_1s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1s_per_unit + roll_slippage_1s_per_unit)'
  - name: other_slippage_1s
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 1s horizon (1 second after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 1s. Calculated as other_slippage_1s_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 1s
    - residual slippage 1s
    formula: '((adjusted_tv_1s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1s + roll_slippage_1s)'
  - name: tv_1s
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 1s horizon (1 second after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 1 second post-execution.
      The change from trade-time TV to tv_1s drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 1s
    - fair value 1s
  - name: delta_1s
    type: FLOAT
    description: >-
      Option delta at the 1s horizon (1 second after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 1s drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 1s
  - name: gamma_1s
    type: FLOAT
    description: >-
      Option gamma at the 1s horizon (1 second after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 1s
  - name: vega_1s
    type: FLOAT
    description: >-
      Option vega at the 1s horizon (1 second after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 1s
  - name: theta_1s
    type: FLOAT
    description: >-
      Option theta at the 1s horizon (1 second after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 1s snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 1s
    - time decay 1s
  - name: under_1s
    type: FLOAT
    description: >-
      Underlying (spot) price at the 1s horizon (1 second after the broker trade). The change from
      trade-time underlying to under_1s drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 1s
    - underlying 1s
  - name: vol_1s
    type: STRING
    description: >-
      Implied volatility at the 1s horizon (1 second after the broker trade). The change from
      trade-time vol to vol_1s drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 1s
    - implied vol 1s
  - name: rho_1s
    type: FLOAT
    description: >-
      Option rho at the 1s horizon (1 second after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 1s.
    synonyms:
    - rho 1s
  - name: raw_delta_1s
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 1s horizon (1 second after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_1s to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 1s
  - name: raw_gamma_1s
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 1s horizon (1 second after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_1s is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 1s
  - name: norm_strike_1s
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 1s horizon (1 second after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 1s.
    synonyms:
    - moneyness 1s
    - normalized strike 1s
  - name: roll_1s
    type: FLOAT
    description: >-
      Roll adjustment value at the 1s horizon (1 second after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_1s drives the roll_slippage component for this interval.
    synonyms:
    - roll value 1s
  - name: tv_change_1s
    type: FLOAT
    description: >-
      Total theoretical value change at the 1s horizon (1 second after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 1s snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 1s
    - theo change 1s
    formula: '(adjusted_tv_1s - trade_tv)'
  - name: tv_change_buysell_1s
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 1s horizon (1 second after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 1s, showing how much the position gained or lost.
    synonyms:
    - pnl 1s
    - forward pnl 1s
    - slippage 1s
    formula: '(adjusted_tv_1s - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_1s_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 1s horizon (1 second after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 1s snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 1s
    - roll slippage per unit 1s
    formula: '((reference_roll_1s - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_1s
    type: FLOAT
    description: >-
      Total roll slippage at the 1s horizon (1 second after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 1 second. Calculated as
      roll_slippage_1s_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 1s
    - roll slippage 1s
    formula: '((reference_roll_1s - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_1s
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 1s horizon (1 second after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 1s. More accurate than raw tv_1s for PnL
      attribution.
    synonyms:
    - adj tv 1s
    - adjusted theo 1s
    formula: 'tv_1s + delta_1s * (calculated_base_val_1s - (under_1s - roll_1s)) + 0.5 * gamma_1s * POW((calculated_base_val_1s - (under_1s - roll_1s)), 2)'
  - name: delta_slippage_1s_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 1s horizon (1 second after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 1s
    - delta slippage per unit 1s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1s - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_1s
    type: FLOAT
    description: >-
      Total delta slippage at the 1s horizon (1 second after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 1 second. Usually the
      dominant slippage component. Calculated as delta_slippage_1s_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 1s
    - delta slippage 1s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1s - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_1s_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 1s horizon (1 second after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 1s. Unique to brokertrade. Formula: (tv_offset_1s - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 1s
    - tv offset slip 1s
    formula: '(tv_offset_1s - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_1s
    type: FLOAT
    description: >-
      Total TV offset slippage at the 1s horizon (1 second after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 1 second. Unique to
      brokertrade. Calculated as tv_offset_slippage_1s_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 1s
    - tv offset slippage 1s
    formula: '(tv_offset_1s - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_5s
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 5s horizon (5 seconds after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 5s.
    synonyms:
    - vol path 5s
    formula: '((calculated_base_val_5s - mid_base_val) * ((delta_5s - raw_delta_5s) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_5s_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 5s horizon (5 seconds after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 5s
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 5s
    - vol slippage per unit 5s
    formula: '((vol_5s - vol) * ((vega_5s + vega) / 2) - vol_path_estimate_5s) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_5s
    type: FLOAT
    description: >-
      Total volatility slippage at the 5s horizon (5 seconds after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 5 seconds.
      Calculated as vol_slippage_5s_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 5s
    - vol slippage 5s
    formula: '((vol_5s - vol) * ((vega_5s + vega) / 2) - vol_path_estimate_5s) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_5s_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 5s horizon (5 seconds after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 5s.
    synonyms:
    - other slip 5s
    - residual slip 5s
    formula: '((adjusted_tv_5s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5s_per_unit + roll_slippage_5s_per_unit)'
  - name: other_slippage_5s
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 5s horizon (5 seconds after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 5s. Calculated as other_slippage_5s_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 5s
    - residual slippage 5s
    formula: '((adjusted_tv_5s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5s + roll_slippage_5s)'
  - name: tv_5s
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 5s horizon (5 seconds after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 5 seconds post-execution.
      The change from trade-time TV to tv_5s drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 5s
    - fair value 5s
  - name: delta_5s
    type: FLOAT
    description: >-
      Option delta at the 5s horizon (5 seconds after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 5s drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 5s
  - name: gamma_5s
    type: FLOAT
    description: >-
      Option gamma at the 5s horizon (5 seconds after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 5s
  - name: vega_5s
    type: FLOAT
    description: >-
      Option vega at the 5s horizon (5 seconds after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 5s
  - name: theta_5s
    type: FLOAT
    description: >-
      Option theta at the 5s horizon (5 seconds after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 5s snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 5s
    - time decay 5s
  - name: under_5s
    type: FLOAT
    description: >-
      Underlying (spot) price at the 5s horizon (5 seconds after the broker trade). The change from
      trade-time underlying to under_5s drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 5s
    - underlying 5s
  - name: vol_5s
    type: STRING
    description: >-
      Implied volatility at the 5s horizon (5 seconds after the broker trade). The change from
      trade-time vol to vol_5s drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 5s
    - implied vol 5s
  - name: rho_5s
    type: FLOAT
    description: >-
      Option rho at the 5s horizon (5 seconds after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 5s.
    synonyms:
    - rho 5s
  - name: raw_delta_5s
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 5s horizon (5 seconds after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_5s to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 5s
  - name: raw_gamma_5s
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 5s horizon (5 seconds after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_5s is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 5s
  - name: norm_strike_5s
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 5s horizon (5 seconds after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 5s.
    synonyms:
    - moneyness 5s
    - normalized strike 5s
  - name: roll_5s
    type: FLOAT
    description: >-
      Roll adjustment value at the 5s horizon (5 seconds after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_5s drives the roll_slippage component for this interval.
    synonyms:
    - roll value 5s
  - name: tv_change_5s
    type: FLOAT
    description: >-
      Total theoretical value change at the 5s horizon (5 seconds after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 5s snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 5s
    - theo change 5s
    formula: '(adjusted_tv_5s - trade_tv)'
  - name: tv_change_buysell_5s
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 5s horizon (5 seconds after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 5s, showing how much the position gained or lost.
    synonyms:
    - pnl 5s
    - forward pnl 5s
    - slippage 5s
    formula: '(adjusted_tv_5s - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_5s_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 5s horizon (5 seconds after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 5s snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 5s
    - roll slippage per unit 5s
    formula: '((reference_roll_5s - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_5s
    type: FLOAT
    description: >-
      Total roll slippage at the 5s horizon (5 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 5 seconds. Calculated as
      roll_slippage_5s_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 5s
    - roll slippage 5s
    formula: '((reference_roll_5s - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_5s
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 5s horizon (5 seconds after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 5s. More accurate than raw tv_5s for PnL
      attribution.
    synonyms:
    - adj tv 5s
    - adjusted theo 5s
    formula: 'tv_5s + delta_5s * (calculated_base_val_5s - (under_5s - roll_5s)) + 0.5 * gamma_5s * POW((calculated_base_val_5s - (under_5s - roll_5s)), 2)'
  - name: delta_slippage_5s_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 5s horizon (5 seconds after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 5s
    - delta slippage per unit 5s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5s - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_5s
    type: FLOAT
    description: >-
      Total delta slippage at the 5s horizon (5 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 5 seconds. Usually the
      dominant slippage component. Calculated as delta_slippage_5s_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 5s
    - delta slippage 5s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5s - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_5s_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 5s horizon (5 seconds after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 5s. Unique to brokertrade. Formula: (tv_offset_5s - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 5s
    - tv offset slip 5s
    formula: '(tv_offset_5s - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_5s
    type: FLOAT
    description: >-
      Total TV offset slippage at the 5s horizon (5 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 5 seconds. Unique to
      brokertrade. Calculated as tv_offset_slippage_5s_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 5s
    - tv offset slippage 5s
    formula: '(tv_offset_5s - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_10s
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 10s horizon (10 seconds after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 10s.
    synonyms:
    - vol path 10s
    formula: '((calculated_base_val_10s - mid_base_val) * ((delta_10s - raw_delta_10s) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_10s_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 10s horizon (10 seconds after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 10s
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 10s
    - vol slippage per unit 10s
    formula: '((vol_10s - vol) * ((vega_10s + vega) / 2) - vol_path_estimate_10s) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_10s
    type: FLOAT
    description: >-
      Total volatility slippage at the 10s horizon (10 seconds after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 10 seconds.
      Calculated as vol_slippage_10s_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 10s
    - vol slippage 10s
    formula: '((vol_10s - vol) * ((vega_10s + vega) / 2) - vol_path_estimate_10s) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_10s_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 10s horizon (10 seconds after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 10s.
    synonyms:
    - other slip 10s
    - residual slip 10s
    formula: '((adjusted_tv_10s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_10s_per_unit + roll_slippage_10s_per_unit)'
  - name: other_slippage_10s
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 10s horizon (10 seconds after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 10s. Calculated as other_slippage_10s_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 10s
    - residual slippage 10s
    formula: '((adjusted_tv_10s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_10s + roll_slippage_10s)'
  - name: tv_10s
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 10s horizon (10 seconds after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 10 seconds post-execution.
      The change from trade-time TV to tv_10s drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 10s
    - fair value 10s
  - name: delta_10s
    type: FLOAT
    description: >-
      Option delta at the 10s horizon (10 seconds after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 10s drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 10s
  - name: gamma_10s
    type: FLOAT
    description: >-
      Option gamma at the 10s horizon (10 seconds after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 10s
  - name: vega_10s
    type: FLOAT
    description: >-
      Option vega at the 10s horizon (10 seconds after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 10s
  - name: theta_10s
    type: FLOAT
    description: >-
      Option theta at the 10s horizon (10 seconds after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 10s snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 10s
    - time decay 10s
  - name: under_10s
    type: FLOAT
    description: >-
      Underlying (spot) price at the 10s horizon (10 seconds after the broker trade). The change from
      trade-time underlying to under_10s drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 10s
    - underlying 10s
  - name: vol_10s
    type: STRING
    description: >-
      Implied volatility at the 10s horizon (10 seconds after the broker trade). The change from
      trade-time vol to vol_10s drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 10s
    - implied vol 10s
  - name: rho_10s
    type: FLOAT
    description: >-
      Option rho at the 10s horizon (10 seconds after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 10s.
    synonyms:
    - rho 10s
  - name: raw_delta_10s
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 10s horizon (10 seconds after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_10s to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 10s
  - name: raw_gamma_10s
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 10s horizon (10 seconds after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_10s is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 10s
  - name: norm_strike_10s
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 10s horizon (10 seconds after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 10s.
    synonyms:
    - moneyness 10s
    - normalized strike 10s
  - name: roll_10s
    type: FLOAT
    description: >-
      Roll adjustment value at the 10s horizon (10 seconds after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_10s drives the roll_slippage component for this interval.
    synonyms:
    - roll value 10s
  - name: tv_change_10s
    type: FLOAT
    description: >-
      Total theoretical value change at the 10s horizon (10 seconds after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 10s snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 10s
    - theo change 10s
    formula: '(adjusted_tv_10s - trade_tv)'
  - name: tv_change_buysell_10s
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 10s horizon (10 seconds after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 10s, showing how much the position gained or lost.
    synonyms:
    - pnl 10s
    - forward pnl 10s
    - slippage 10s
    formula: '(adjusted_tv_10s - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_10s_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 10s horizon (10 seconds after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 10s snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 10s
    - roll slippage per unit 10s
    formula: '((reference_roll_10s - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_10s
    type: FLOAT
    description: >-
      Total roll slippage at the 10s horizon (10 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 10 seconds. Calculated as
      roll_slippage_10s_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 10s
    - roll slippage 10s
    formula: '((reference_roll_10s - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_10s
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 10s horizon (10 seconds after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 10s. More accurate than raw tv_10s for PnL
      attribution.
    synonyms:
    - adj tv 10s
    - adjusted theo 10s
    formula: 'tv_10s + delta_10s * (calculated_base_val_10s - (under_10s - roll_10s)) + 0.5 * gamma_10s * POW((calculated_base_val_10s - (under_10s - roll_10s)), 2)'
  - name: delta_slippage_10s_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 10s horizon (10 seconds after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 10s
    - delta slippage per unit 10s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_10s - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_10s
    type: FLOAT
    description: >-
      Total delta slippage at the 10s horizon (10 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 10 seconds. Usually the
      dominant slippage component. Calculated as delta_slippage_10s_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 10s
    - delta slippage 10s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_10s - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_10s_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 10s horizon (10 seconds after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 10s. Unique to brokertrade. Formula: (tv_offset_10s - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 10s
    - tv offset slip 10s
    formula: '(tv_offset_10s - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_10s
    type: FLOAT
    description: >-
      Total TV offset slippage at the 10s horizon (10 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 10 seconds. Unique to
      brokertrade. Calculated as tv_offset_slippage_10s_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 10s
    - tv offset slippage 10s
    formula: '(tv_offset_10s - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_30s
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 30s horizon (30 seconds after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 30s.
    synonyms:
    - vol path 30s
    formula: '((calculated_base_val_30s - mid_base_val) * ((delta_30s - raw_delta_30s) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_30s_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 30s horizon (30 seconds after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 30s
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 30s
    - vol slippage per unit 30s
    formula: '((vol_30s - vol) * ((vega_30s + vega) / 2) - vol_path_estimate_30s) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_30s
    type: FLOAT
    description: >-
      Total volatility slippage at the 30s horizon (30 seconds after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 30 seconds.
      Calculated as vol_slippage_30s_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 30s
    - vol slippage 30s
    formula: '((vol_30s - vol) * ((vega_30s + vega) / 2) - vol_path_estimate_30s) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_30s_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 30s horizon (30 seconds after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 30s.
    synonyms:
    - other slip 30s
    - residual slip 30s
    formula: '((adjusted_tv_30s - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_30s_per_unit + roll_slippage_30s_per_unit)'
  - name: other_slippage_30s
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 30s horizon (30 seconds after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 30s. Calculated as other_slippage_30s_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 30s
    - residual slippage 30s
    formula: '((adjusted_tv_30s - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_30s + roll_slippage_30s)'
  - name: tv_30s
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 30s horizon (30 seconds after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 30 seconds post-execution.
      The change from trade-time TV to tv_30s drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 30s
    - fair value 30s
  - name: delta_30s
    type: FLOAT
    description: >-
      Option delta at the 30s horizon (30 seconds after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 30s drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 30s
  - name: gamma_30s
    type: FLOAT
    description: >-
      Option gamma at the 30s horizon (30 seconds after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 30s
  - name: vega_30s
    type: FLOAT
    description: >-
      Option vega at the 30s horizon (30 seconds after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 30s
  - name: theta_30s
    type: FLOAT
    description: >-
      Option theta at the 30s horizon (30 seconds after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 30s snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 30s
    - time decay 30s
  - name: under_30s
    type: FLOAT
    description: >-
      Underlying (spot) price at the 30s horizon (30 seconds after the broker trade). The change from
      trade-time underlying to under_30s drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 30s
    - underlying 30s
  - name: vol_30s
    type: STRING
    description: >-
      Implied volatility at the 30s horizon (30 seconds after the broker trade). The change from
      trade-time vol to vol_30s drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 30s
    - implied vol 30s
  - name: rho_30s
    type: FLOAT
    description: >-
      Option rho at the 30s horizon (30 seconds after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 30s.
    synonyms:
    - rho 30s
  - name: raw_delta_30s
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 30s horizon (30 seconds after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_30s to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 30s
  - name: raw_gamma_30s
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 30s horizon (30 seconds after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_30s is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 30s
  - name: norm_strike_30s
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 30s horizon (30 seconds after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 30s.
    synonyms:
    - moneyness 30s
    - normalized strike 30s
  - name: roll_30s
    type: FLOAT
    description: >-
      Roll adjustment value at the 30s horizon (30 seconds after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_30s drives the roll_slippage component for this interval.
    synonyms:
    - roll value 30s
  - name: tv_change_30s
    type: FLOAT
    description: >-
      Total theoretical value change at the 30s horizon (30 seconds after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 30s snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 30s
    - theo change 30s
    formula: '(adjusted_tv_30s - trade_tv)'
  - name: tv_change_buysell_30s
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 30s horizon (30 seconds after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 30s, showing how much the position gained or lost.
    synonyms:
    - pnl 30s
    - forward pnl 30s
    - slippage 30s
    formula: '(adjusted_tv_30s - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_30s_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 30s horizon (30 seconds after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 30s snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 30s
    - roll slippage per unit 30s
    formula: '((reference_roll_30s - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_30s
    type: FLOAT
    description: >-
      Total roll slippage at the 30s horizon (30 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 30 seconds. Calculated as
      roll_slippage_30s_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 30s
    - roll slippage 30s
    formula: '((reference_roll_30s - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_30s
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 30s horizon (30 seconds after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 30s. More accurate than raw tv_30s for PnL
      attribution.
    synonyms:
    - adj tv 30s
    - adjusted theo 30s
    formula: 'tv_30s + delta_30s * (calculated_base_val_30s - (under_30s - roll_30s)) + 0.5 * gamma_30s * POW((calculated_base_val_30s - (under_30s - roll_30s)), 2)'
  - name: delta_slippage_30s_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 30s horizon (30 seconds after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 30s
    - delta slippage per unit 30s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_30s - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_30s
    type: FLOAT
    description: >-
      Total delta slippage at the 30s horizon (30 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 30 seconds. Usually the
      dominant slippage component. Calculated as delta_slippage_30s_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 30s
    - delta slippage 30s
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_30s - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_30s_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 30s horizon (30 seconds after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 30s. Unique to brokertrade. Formula: (tv_offset_30s - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 30s
    - tv offset slip 30s
    formula: '(tv_offset_30s - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_30s
    type: FLOAT
    description: >-
      Total TV offset slippage at the 30s horizon (30 seconds after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 30 seconds. Unique to
      brokertrade. Calculated as tv_offset_slippage_30s_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 30s
    - tv offset slippage 30s
    formula: '(tv_offset_30s - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_1m
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 1m horizon (1 minute after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 1m.
    synonyms:
    - vol path 1m
    formula: '((calculated_base_val_1m - mid_base_val) * ((delta_1m - raw_delta_1m) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_1m_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 1m horizon (1 minute after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 1m
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 1m
    - vol slippage per unit 1m
    formula: '((vol_1m - vol) * ((vega_1m + vega) / 2) - vol_path_estimate_1m) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_1m
    type: FLOAT
    description: >-
      Total volatility slippage at the 1m horizon (1 minute after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 1 minute.
      Calculated as vol_slippage_1m_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 1m
    - vol slippage 1m
    formula: '((vol_1m - vol) * ((vega_1m + vega) / 2) - vol_path_estimate_1m) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_1m_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 1m horizon (1 minute after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 1m.
    synonyms:
    - other slip 1m
    - residual slip 1m
    formula: '((adjusted_tv_1m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1m_per_unit + roll_slippage_1m_per_unit)'
  - name: other_slippage_1m
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 1m horizon (1 minute after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 1m. Calculated as other_slippage_1m_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 1m
    - residual slippage 1m
    formula: '((adjusted_tv_1m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1m + roll_slippage_1m)'
  - name: tv_1m
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 1m horizon (1 minute after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 1 minute post-execution.
      The change from trade-time TV to tv_1m drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 1m
    - fair value 1m
  - name: delta_1m
    type: FLOAT
    description: >-
      Option delta at the 1m horizon (1 minute after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 1m drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 1m
  - name: gamma_1m
    type: FLOAT
    description: >-
      Option gamma at the 1m horizon (1 minute after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 1m
  - name: vega_1m
    type: FLOAT
    description: >-
      Option vega at the 1m horizon (1 minute after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 1m
  - name: theta_1m
    type: FLOAT
    description: >-
      Option theta at the 1m horizon (1 minute after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 1m snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 1m
    - time decay 1m
  - name: under_1m
    type: FLOAT
    description: >-
      Underlying (spot) price at the 1m horizon (1 minute after the broker trade). The change from
      trade-time underlying to under_1m drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 1m
    - underlying 1m
  - name: vol_1m
    type: STRING
    description: >-
      Implied volatility at the 1m horizon (1 minute after the broker trade). The change from
      trade-time vol to vol_1m drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 1m
    - implied vol 1m
  - name: rho_1m
    type: FLOAT
    description: >-
      Option rho at the 1m horizon (1 minute after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 1m.
    synonyms:
    - rho 1m
  - name: raw_delta_1m
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 1m horizon (1 minute after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_1m to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 1m
  - name: raw_gamma_1m
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 1m horizon (1 minute after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_1m is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 1m
  - name: norm_strike_1m
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 1m horizon (1 minute after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 1m.
    synonyms:
    - moneyness 1m
    - normalized strike 1m
  - name: roll_1m
    type: FLOAT
    description: >-
      Roll adjustment value at the 1m horizon (1 minute after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_1m drives the roll_slippage component for this interval.
    synonyms:
    - roll value 1m
  - name: tv_change_1m
    type: FLOAT
    description: >-
      Total theoretical value change at the 1m horizon (1 minute after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 1m snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 1m
    - theo change 1m
    formula: '(adjusted_tv_1m - trade_tv)'
  - name: tv_change_buysell_1m
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 1m horizon (1 minute after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 1m, showing how much the position gained or lost.
    synonyms:
    - pnl 1m
    - forward pnl 1m
    - slippage 1m
    formula: '(adjusted_tv_1m - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_1m_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 1m horizon (1 minute after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 1m snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 1m
    - roll slippage per unit 1m
    formula: '((reference_roll_1m - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_1m
    type: FLOAT
    description: >-
      Total roll slippage at the 1m horizon (1 minute after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 1 minute. Calculated as
      roll_slippage_1m_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 1m
    - roll slippage 1m
    formula: '((reference_roll_1m - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_1m
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 1m horizon (1 minute after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 1m. More accurate than raw tv_1m for PnL
      attribution.
    synonyms:
    - adj tv 1m
    - adjusted theo 1m
    formula: 'tv_1m + delta_1m * (calculated_base_val_1m - (under_1m - roll_1m)) + 0.5 * gamma_1m * POW((calculated_base_val_1m - (under_1m - roll_1m)), 2)'
  - name: delta_slippage_1m_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 1m horizon (1 minute after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 1m
    - delta slippage per unit 1m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1m - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_1m
    type: FLOAT
    description: >-
      Total delta slippage at the 1m horizon (1 minute after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 1 minute. Usually the
      dominant slippage component. Calculated as delta_slippage_1m_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 1m
    - delta slippage 1m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1m - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_1m_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 1m horizon (1 minute after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 1m. Unique to brokertrade. Formula: (tv_offset_1m - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 1m
    - tv offset slip 1m
    formula: '(tv_offset_1m - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_1m
    type: FLOAT
    description: >-
      Total TV offset slippage at the 1m horizon (1 minute after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 1 minute. Unique to
      brokertrade. Calculated as tv_offset_slippage_1m_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 1m
    - tv offset slippage 1m
    formula: '(tv_offset_1m - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_5m
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 5m horizon (5 minutes after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 5m.
    synonyms:
    - vol path 5m
    formula: '((calculated_base_val_5m - mid_base_val) * ((delta_5m - raw_delta_5m) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_5m_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 5m horizon (5 minutes after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 5m
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 5m
    - vol slippage per unit 5m
    formula: '((vol_5m - vol) * ((vega_5m + vega) / 2) - vol_path_estimate_5m) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_5m
    type: FLOAT
    description: >-
      Total volatility slippage at the 5m horizon (5 minutes after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 5 minutes.
      Calculated as vol_slippage_5m_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 5m
    - vol slippage 5m
    formula: '((vol_5m - vol) * ((vega_5m + vega) / 2) - vol_path_estimate_5m) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_5m_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 5m horizon (5 minutes after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 5m.
    synonyms:
    - other slip 5m
    - residual slip 5m
    formula: '((adjusted_tv_5m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5m_per_unit + roll_slippage_5m_per_unit)'
  - name: other_slippage_5m
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 5m horizon (5 minutes after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 5m. Calculated as other_slippage_5m_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 5m
    - residual slippage 5m
    formula: '((adjusted_tv_5m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5m + roll_slippage_5m)'
  - name: tv_5m
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 5m horizon (5 minutes after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 5 minutes post-execution.
      The change from trade-time TV to tv_5m drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 5m
    - fair value 5m
  - name: delta_5m
    type: FLOAT
    description: >-
      Option delta at the 5m horizon (5 minutes after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 5m drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 5m
  - name: gamma_5m
    type: FLOAT
    description: >-
      Option gamma at the 5m horizon (5 minutes after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 5m
  - name: vega_5m
    type: FLOAT
    description: >-
      Option vega at the 5m horizon (5 minutes after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 5m
  - name: theta_5m
    type: FLOAT
    description: >-
      Option theta at the 5m horizon (5 minutes after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 5m snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 5m
    - time decay 5m
  - name: under_5m
    type: FLOAT
    description: >-
      Underlying (spot) price at the 5m horizon (5 minutes after the broker trade). The change from
      trade-time underlying to under_5m drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 5m
    - underlying 5m
  - name: vol_5m
    type: STRING
    description: >-
      Implied volatility at the 5m horizon (5 minutes after the broker trade). The change from
      trade-time vol to vol_5m drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 5m
    - implied vol 5m
  - name: rho_5m
    type: FLOAT
    description: >-
      Option rho at the 5m horizon (5 minutes after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 5m.
    synonyms:
    - rho 5m
  - name: raw_delta_5m
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 5m horizon (5 minutes after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_5m to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 5m
  - name: raw_gamma_5m
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 5m horizon (5 minutes after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_5m is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 5m
  - name: norm_strike_5m
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 5m horizon (5 minutes after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 5m.
    synonyms:
    - moneyness 5m
    - normalized strike 5m
  - name: roll_5m
    type: FLOAT
    description: >-
      Roll adjustment value at the 5m horizon (5 minutes after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_5m drives the roll_slippage component for this interval.
    synonyms:
    - roll value 5m
  - name: tv_change_5m
    type: FLOAT
    description: >-
      Total theoretical value change at the 5m horizon (5 minutes after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 5m snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 5m
    - theo change 5m
    formula: '(adjusted_tv_5m - trade_tv)'
  - name: tv_change_buysell_5m
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 5m horizon (5 minutes after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 5m, showing how much the position gained or lost.
    synonyms:
    - pnl 5m
    - forward pnl 5m
    - slippage 5m
    formula: '(adjusted_tv_5m - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_5m_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 5m horizon (5 minutes after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 5m snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 5m
    - roll slippage per unit 5m
    formula: '((reference_roll_5m - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_5m
    type: FLOAT
    description: >-
      Total roll slippage at the 5m horizon (5 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 5 minutes. Calculated as
      roll_slippage_5m_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 5m
    - roll slippage 5m
    formula: '((reference_roll_5m - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_5m
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 5m horizon (5 minutes after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 5m. More accurate than raw tv_5m for PnL
      attribution.
    synonyms:
    - adj tv 5m
    - adjusted theo 5m
    formula: 'tv_5m + delta_5m * (calculated_base_val_5m - (under_5m - roll_5m)) + 0.5 * gamma_5m * POW((calculated_base_val_5m - (under_5m - roll_5m)), 2)'
  - name: delta_slippage_5m_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 5m horizon (5 minutes after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 5m
    - delta slippage per unit 5m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5m - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_5m
    type: FLOAT
    description: >-
      Total delta slippage at the 5m horizon (5 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 5 minutes. Usually the
      dominant slippage component. Calculated as delta_slippage_5m_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 5m
    - delta slippage 5m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5m - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_5m_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 5m horizon (5 minutes after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 5m. Unique to brokertrade. Formula: (tv_offset_5m - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 5m
    - tv offset slip 5m
    formula: '(tv_offset_5m - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_5m
    type: FLOAT
    description: >-
      Total TV offset slippage at the 5m horizon (5 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 5 minutes. Unique to
      brokertrade. Calculated as tv_offset_slippage_5m_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 5m
    - tv offset slippage 5m
    formula: '(tv_offset_5m - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_10m
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 10m horizon (10 minutes after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 10m.
    synonyms:
    - vol path 10m
    formula: '((calculated_base_val_10m - mid_base_val) * ((delta_10m - raw_delta_10m) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_10m_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 10m horizon (10 minutes after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 10m
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 10m
    - vol slippage per unit 10m
    formula: '((vol_10m - vol) * ((vega_10m + vega) / 2) - vol_path_estimate_10m) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_10m
    type: FLOAT
    description: >-
      Total volatility slippage at the 10m horizon (10 minutes after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 10 minutes.
      Calculated as vol_slippage_10m_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 10m
    - vol slippage 10m
    formula: '((vol_10m - vol) * ((vega_10m + vega) / 2) - vol_path_estimate_10m) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_10m_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 10m horizon (10 minutes after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 10m.
    synonyms:
    - other slip 10m
    - residual slip 10m
    formula: '((adjusted_tv_10m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_10m_per_unit + roll_slippage_10m_per_unit)'
  - name: other_slippage_10m
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 10m horizon (10 minutes after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 10m. Calculated as other_slippage_10m_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 10m
    - residual slippage 10m
    formula: '((adjusted_tv_10m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_10m + roll_slippage_10m)'
  - name: tv_10m
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 10m horizon (10 minutes after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 10 minutes post-execution.
      The change from trade-time TV to tv_10m drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 10m
    - fair value 10m
  - name: delta_10m
    type: FLOAT
    description: >-
      Option delta at the 10m horizon (10 minutes after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 10m drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 10m
  - name: gamma_10m
    type: FLOAT
    description: >-
      Option gamma at the 10m horizon (10 minutes after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 10m
  - name: vega_10m
    type: FLOAT
    description: >-
      Option vega at the 10m horizon (10 minutes after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 10m
  - name: theta_10m
    type: FLOAT
    description: >-
      Option theta at the 10m horizon (10 minutes after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 10m snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 10m
    - time decay 10m
  - name: under_10m
    type: FLOAT
    description: >-
      Underlying (spot) price at the 10m horizon (10 minutes after the broker trade). The change from
      trade-time underlying to under_10m drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 10m
    - underlying 10m
  - name: vol_10m
    type: STRING
    description: >-
      Implied volatility at the 10m horizon (10 minutes after the broker trade). The change from
      trade-time vol to vol_10m drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 10m
    - implied vol 10m
  - name: rho_10m
    type: FLOAT
    description: >-
      Option rho at the 10m horizon (10 minutes after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 10m.
    synonyms:
    - rho 10m
  - name: raw_delta_10m
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 10m horizon (10 minutes after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_10m to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 10m
  - name: raw_gamma_10m
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 10m horizon (10 minutes after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_10m is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 10m
  - name: norm_strike_10m
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 10m horizon (10 minutes after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 10m.
    synonyms:
    - moneyness 10m
    - normalized strike 10m
  - name: roll_10m
    type: FLOAT
    description: >-
      Roll adjustment value at the 10m horizon (10 minutes after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_10m drives the roll_slippage component for this interval.
    synonyms:
    - roll value 10m
  - name: tv_change_10m
    type: FLOAT
    description: >-
      Total theoretical value change at the 10m horizon (10 minutes after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 10m snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 10m
    - theo change 10m
    formula: '(adjusted_tv_10m - trade_tv)'
  - name: tv_change_buysell_10m
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 10m horizon (10 minutes after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 10m, showing how much the position gained or lost.
    synonyms:
    - pnl 10m
    - forward pnl 10m
    - slippage 10m
    formula: '(adjusted_tv_10m - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_10m_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 10m horizon (10 minutes after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 10m snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 10m
    - roll slippage per unit 10m
    formula: '((reference_roll_10m - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_10m
    type: FLOAT
    description: >-
      Total roll slippage at the 10m horizon (10 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 10 minutes. Calculated as
      roll_slippage_10m_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 10m
    - roll slippage 10m
    formula: '((reference_roll_10m - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_10m
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 10m horizon (10 minutes after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 10m. More accurate than raw tv_10m for PnL
      attribution.
    synonyms:
    - adj tv 10m
    - adjusted theo 10m
    formula: 'tv_10m + delta_10m * (calculated_base_val_10m - (under_10m - roll_10m)) + 0.5 * gamma_10m * POW((calculated_base_val_10m - (under_10m - roll_10m)), 2)'
  - name: delta_slippage_10m_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 10m horizon (10 minutes after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 10m
    - delta slippage per unit 10m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_10m - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_10m
    type: FLOAT
    description: >-
      Total delta slippage at the 10m horizon (10 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 10 minutes. Usually the
      dominant slippage component. Calculated as delta_slippage_10m_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 10m
    - delta slippage 10m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_10m - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_10m_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 10m horizon (10 minutes after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 10m. Unique to brokertrade. Formula: (tv_offset_10m - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 10m
    - tv offset slip 10m
    formula: '(tv_offset_10m - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_10m
    type: FLOAT
    description: >-
      Total TV offset slippage at the 10m horizon (10 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 10 minutes. Unique to
      brokertrade. Calculated as tv_offset_slippage_10m_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 10m
    - tv offset slippage 10m
    formula: '(tv_offset_10m - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_30m
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 30m horizon (30 minutes after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 30m.
    synonyms:
    - vol path 30m
    formula: '((calculated_base_val_30m - mid_base_val) * ((delta_30m - raw_delta_30m) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_30m_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 30m horizon (30 minutes after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 30m
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 30m
    - vol slippage per unit 30m
    formula: '((vol_30m - vol) * ((vega_30m + vega) / 2) - vol_path_estimate_30m) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_30m
    type: FLOAT
    description: >-
      Total volatility slippage at the 30m horizon (30 minutes after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 30 minutes.
      Calculated as vol_slippage_30m_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 30m
    - vol slippage 30m
    formula: '((vol_30m - vol) * ((vega_30m + vega) / 2) - vol_path_estimate_30m) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_30m_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 30m horizon (30 minutes after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 30m.
    synonyms:
    - other slip 30m
    - residual slip 30m
    formula: '((adjusted_tv_30m - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_30m_per_unit + roll_slippage_30m_per_unit)'
  - name: other_slippage_30m
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 30m horizon (30 minutes after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 30m. Calculated as other_slippage_30m_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 30m
    - residual slippage 30m
    formula: '((adjusted_tv_30m - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_30m + roll_slippage_30m)'
  - name: tv_30m
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 30m horizon (30 minutes after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 30 minutes post-execution.
      The change from trade-time TV to tv_30m drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 30m
    - fair value 30m
  - name: delta_30m
    type: FLOAT
    description: >-
      Option delta at the 30m horizon (30 minutes after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 30m drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 30m
  - name: gamma_30m
    type: FLOAT
    description: >-
      Option gamma at the 30m horizon (30 minutes after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 30m
  - name: vega_30m
    type: FLOAT
    description: >-
      Option vega at the 30m horizon (30 minutes after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 30m
  - name: theta_30m
    type: FLOAT
    description: >-
      Option theta at the 30m horizon (30 minutes after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 30m snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 30m
    - time decay 30m
  - name: under_30m
    type: FLOAT
    description: >-
      Underlying (spot) price at the 30m horizon (30 minutes after the broker trade). The change from
      trade-time underlying to under_30m drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 30m
    - underlying 30m
  - name: vol_30m
    type: STRING
    description: >-
      Implied volatility at the 30m horizon (30 minutes after the broker trade). The change from
      trade-time vol to vol_30m drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 30m
    - implied vol 30m
  - name: rho_30m
    type: FLOAT
    description: >-
      Option rho at the 30m horizon (30 minutes after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 30m.
    synonyms:
    - rho 30m
  - name: raw_delta_30m
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 30m horizon (30 minutes after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_30m to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 30m
  - name: raw_gamma_30m
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 30m horizon (30 minutes after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_30m is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 30m
  - name: norm_strike_30m
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 30m horizon (30 minutes after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 30m.
    synonyms:
    - moneyness 30m
    - normalized strike 30m
  - name: roll_30m
    type: FLOAT
    description: >-
      Roll adjustment value at the 30m horizon (30 minutes after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_30m drives the roll_slippage component for this interval.
    synonyms:
    - roll value 30m
  - name: tv_change_30m
    type: FLOAT
    description: >-
      Total theoretical value change at the 30m horizon (30 minutes after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 30m snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 30m
    - theo change 30m
    formula: '(adjusted_tv_30m - trade_tv)'
  - name: tv_change_buysell_30m
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 30m horizon (30 minutes after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 30m, showing how much the position gained or lost.
    synonyms:
    - pnl 30m
    - forward pnl 30m
    - slippage 30m
    formula: '(adjusted_tv_30m - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_30m_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 30m horizon (30 minutes after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 30m snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 30m
    - roll slippage per unit 30m
    formula: '((reference_roll_30m - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_30m
    type: FLOAT
    description: >-
      Total roll slippage at the 30m horizon (30 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 30 minutes. Calculated as
      roll_slippage_30m_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 30m
    - roll slippage 30m
    formula: '((reference_roll_30m - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_30m
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 30m horizon (30 minutes after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 30m. More accurate than raw tv_30m for PnL
      attribution.
    synonyms:
    - adj tv 30m
    - adjusted theo 30m
    formula: 'tv_30m + delta_30m * (calculated_base_val_30m - (under_30m - roll_30m)) + 0.5 * gamma_30m * POW((calculated_base_val_30m - (under_30m - roll_30m)), 2)'
  - name: delta_slippage_30m_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 30m horizon (30 minutes after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 30m
    - delta slippage per unit 30m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_30m - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_30m
    type: FLOAT
    description: >-
      Total delta slippage at the 30m horizon (30 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 30 minutes. Usually the
      dominant slippage component. Calculated as delta_slippage_30m_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 30m
    - delta slippage 30m
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_30m - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_30m_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 30m horizon (30 minutes after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 30m. Unique to brokertrade. Formula: (tv_offset_30m - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 30m
    - tv offset slip 30m
    formula: '(tv_offset_30m - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_30m
    type: FLOAT
    description: >-
      Total TV offset slippage at the 30m horizon (30 minutes after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 30 minutes. Unique to
      brokertrade. Calculated as tv_offset_slippage_30m_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 30m
    - tv offset slippage 30m
    formula: '(tv_offset_30m - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_1h
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the 1h horizon (1 hour after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at 1h.
    synonyms:
    - vol path 1h
    formula: '((calculated_base_val_1h - mid_base_val) * ((delta_1h - raw_delta_1h) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_1h_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the 1h horizon (1 hour after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the 1h
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip 1h
    - vol slippage per unit 1h
    formula: '((vol_1h - vol) * ((vega_1h + vega) / 2) - vol_path_estimate_1h) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_1h
    type: FLOAT
    description: >-
      Total volatility slippage at the 1h horizon (1 hour after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over 1 hour.
      Calculated as vol_slippage_1h_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip 1h
    - vol slippage 1h
    formula: '((vol_1h - vol) * ((vega_1h + vega) / 2) - vol_path_estimate_1h) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_1h_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the 1h horizon (1 hour after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at 1h.
    synonyms:
    - other slip 1h
    - residual slip 1h
    formula: '((adjusted_tv_1h - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1h_per_unit + roll_slippage_1h_per_unit)'
  - name: other_slippage_1h
    type: FLOAT
    description: >-
      Total residual (other) slippage at the 1h horizon (1 hour after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at 1h. Calculated as other_slippage_1h_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip 1h
    - residual slippage 1h
    formula: '((adjusted_tv_1h - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1h + roll_slippage_1h)'
  - name: tv_1h
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the 1h horizon (1 hour after the broker
      trade). Computed by the ORA pricing engine using the snapshot at 1 hour post-execution.
      The change from trade-time TV to tv_1h drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo 1h
    - fair value 1h
  - name: delta_1h
    type: FLOAT
    description: >-
      Option delta at the 1h horizon (1 hour after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to 1h drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta 1h
  - name: gamma_1h
    type: FLOAT
    description: >-
      Option gamma at the 1h horizon (1 hour after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma 1h
  - name: vega_1h
    type: FLOAT
    description: >-
      Option vega at the 1h horizon (1 hour after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega 1h
  - name: theta_1h
    type: FLOAT
    description: >-
      Option theta at the 1h horizon (1 hour after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the 1h snapshot. Negative for long options, positive for short.
    synonyms:
    - theta 1h
    - time decay 1h
  - name: under_1h
    type: FLOAT
    description: >-
      Underlying (spot) price at the 1h horizon (1 hour after the broker trade). The change from
      trade-time underlying to under_1h drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot 1h
    - underlying 1h
  - name: vol_1h
    type: STRING
    description: >-
      Implied volatility at the 1h horizon (1 hour after the broker trade). The change from
      trade-time vol to vol_1h drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV 1h
    - implied vol 1h
  - name: rho_1h
    type: FLOAT
    description: >-
      Option rho at the 1h horizon (1 hour after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at 1h.
    synonyms:
    - rho 1h
  - name: raw_delta_1h
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the 1h horizon (1 hour after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_1h to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta 1h
  - name: raw_gamma_1h
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the 1h horizon (1 hour after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_1h is preferred for risk analysis.
    synonyms:
    - unadjusted gamma 1h
  - name: norm_strike_1h
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the 1h horizon (1 hour after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at 1h.
    synonyms:
    - moneyness 1h
    - normalized strike 1h
  - name: roll_1h
    type: FLOAT
    description: >-
      Roll adjustment value at the 1h horizon (1 hour after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_1h drives the roll_slippage component for this interval.
    synonyms:
    - roll value 1h
  - name: tv_change_1h
    type: FLOAT
    description: >-
      Total theoretical value change at the 1h horizon (1 hour after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the 1h snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 1h
    - theo change 1h
    formula: '(adjusted_tv_1h - trade_tv)'
  - name: tv_change_buysell_1h
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 1h horizon (1 hour after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at 1h, showing how much the position gained or lost.
    synonyms:
    - pnl 1h
    - forward pnl 1h
    - slippage 1h
    formula: '(adjusted_tv_1h - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_1h_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the 1h horizon (1 hour after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the 1h snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip 1h
    - roll slippage per unit 1h
    formula: '((reference_roll_1h - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_1h
    type: FLOAT
    description: >-
      Total roll slippage at the 1h horizon (1 hour after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over 1 hour. Calculated as
      roll_slippage_1h_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip 1h
    - roll slippage 1h
    formula: '((reference_roll_1h - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_1h
    type: FLOAT
    description: >-
      Adjusted theoretical value at the 1h horizon (1 hour after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at 1h. More accurate than raw tv_1h for PnL
      attribution.
    synonyms:
    - adj tv 1h
    - adjusted theo 1h
    formula: 'tv_1h + delta_1h * (calculated_base_val_1h - (under_1h - roll_1h)) + 0.5 * gamma_1h * POW((calculated_base_val_1h - (under_1h - roll_1h)), 2)'
  - name: delta_slippage_1h_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 1h horizon (1 hour after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip 1h
    - delta slippage per unit 1h
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1h - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_1h
    type: FLOAT
    description: >-
      Total delta slippage at the 1h horizon (1 hour after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over 1 hour. Usually the
      dominant slippage component. Calculated as delta_slippage_1h_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip 1h
    - delta slippage 1h
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1h - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_1h_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the 1h horizon (1 hour after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and 1h. Unique to brokertrade. Formula: (tv_offset_1h - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit 1h
    - tv offset slip 1h
    formula: '(tv_offset_1h - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_1h
    type: FLOAT
    description: >-
      Total TV offset slippage at the 1h horizon (1 hour after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over 1 hour. Unique to
      brokertrade. Calculated as tv_offset_slippage_1h_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage 1h
    - tv offset slippage 1h
    formula: '(tv_offset_1h - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_eod
    type: FLOAT
    description: >-
      Estimated volatility path contribution at the end-of-day horizon (end of day after the broker trade).
      Models the expected vol-driven price movement over the interval. Used as an input to the vol
      slippage calculation, separating expected vol moves from unexpected slippage at end-of-day.
    synonyms:
    - vol path eod
    formula: '((calculated_base_val_eod - mid_base_val) * ((delta_eod - raw_delta_eod) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_eod_per_unit
    type: FLOAT
    description: >-
      Per-unit volatility slippage at the end-of-day horizon (end of day after the broker trade). Measures
      the per-contract PnL impact from implied volatility changes between trade time and the end-of-day
      snapshot. Positive values mean vol moved favorably. Part of the slippage decomposition.
    synonyms:
    - vol slip eod
    - vol slippage per unit eod
    formula: '((vol_eod - vol) * ((vega_eod + vega) / 2) - vol_path_estimate_eod) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_eod
    type: FLOAT
    description: >-
      Total volatility slippage at the end-of-day horizon (end of day after the broker trade), size-weighted.
      Represents the aggregate monetary PnL impact from implied volatility changes over end of day.
      Calculated as vol_slippage_eod_per_unit * ABS(size) * contract_size. Key slippage component.
    synonyms:
    - vol slip eod
    - vol slippage eod
    formula: '((vol_eod - vol) * ((vega_eod + vega) / 2) - vol_path_estimate_eod) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_eod_per_unit
    type: FLOAT
    description: >-
      Per-unit residual (other) slippage at the end-of-day horizon (end of day after the broker trade).
      Captures slippage not explained by delta, volatility, roll, or TV offset changes. The
      unexplained remainder in the per-contract slippage decomposition at end-of-day.
    synonyms:
    - other slip eod
    - residual slip eod
    formula: '((adjusted_tv_eod - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_eod_per_unit + roll_slippage_eod_per_unit)'
  - name: other_slippage_eod
    type: FLOAT
    description: >-
      Total residual (other) slippage at the end-of-day horizon (end of day after the broker trade),
      size-weighted. The aggregate monetary residual slippage not attributable to delta, vol,
      roll, or TV offset at end-of-day. Calculated as other_slippage_eod_per_unit * ABS(size) * contract_size.
    synonyms:
    - other slip eod
    - residual slippage eod
    formula: '((adjusted_tv_eod - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_eod + roll_slippage_eod)'
  - name: tv_eod
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the eod horizon (end of day after the broker
      trade). Computed by the ORA pricing engine using the snapshot at end of day post-execution.
      The change from trade-time TV to tv_eod drives the forward-looking PnL and slippage metrics.
    synonyms:
    - theo eod
    - fair value eod
  - name: delta_eod
    type: FLOAT
    description: >-
      Option delta at the eod horizon (end of day after the broker trade), measuring the sensitivity
      of the option's price to the underlying at that point. The change in delta from trade time
      to eod drives the delta slippage component. Ranges from -1 to +1.
    synonyms:
    - delta eod
  - name: gamma_eod
    type: FLOAT
    description: >-
      Option gamma at the eod horizon (end of day after the broker trade), the rate of change of
      delta with respect to the underlying price. Higher gamma means delta changes more quickly,
      amplifying slippage in the underlying. Used in second-order risk analysis.
    synonyms:
    - gamma eod
  - name: vega_eod
    type: FLOAT
    description: >-
      Option vega at the eod horizon (end of day after the broker trade), measuring the sensitivity
      of the option's price to implied volatility changes. Drives the vol_slippage component.
      Higher vega means greater exposure to vol changes over the interval.
    synonyms:
    - vega eod
  - name: theta_eod
    type: FLOAT
    description: >-
      Option theta at the eod horizon (end of day after the broker trade), measuring time decay per
      day at that point. Indicates how much value the option loses per day due to the passage of
      time at the eod snapshot. Negative for long options, positive for short.
    synonyms:
    - theta eod
    - time decay eod
  - name: under_eod
    type: FLOAT
    description: >-
      Underlying (spot) price at the eod horizon (end of day after the broker trade). The change from
      trade-time underlying to under_eod drives the delta slippage component. Used to assess how
      much the underlying moved after the broker trade execution.
    synonyms:
    - spot eod
    - underlying eod
  - name: vol_eod
    type: STRING
    description: >-
      Implied volatility at the eod horizon (end of day after the broker trade). The change from
      trade-time vol to vol_eod drives the vol_slippage component. Expressed as a decimal (e.g.,
      0.25 = 25% vol). Used to assess post-trade volatility moves and their PnL impact.
    synonyms:
    - IV eod
    - implied vol eod
  - name: rho_eod
    type: FLOAT
    description: >-
      Option rho at the eod horizon (end of day after the broker trade), measuring the sensitivity
      to interest rate changes. Typically a minor factor for short-dated options but can be
      significant for longer-dated positions. Part of the complete greeks snapshot at eod.
    synonyms:
    - rho eod
  - name: raw_delta_eod
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at the eod horizon (end of day after the broker trade). The
      unmodified delta before any adjustments for skew, dividends, or model corrections. Compared
      with delta_eod to understand the impact of adjustments on Greek calculations.
    synonyms:
    - unadjusted delta eod
  - name: raw_gamma_eod
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at the eod horizon (end of day after the broker trade). The
      unmodified gamma before skew and model adjustments. Rarely queried directly; the adjusted
      gamma_eod is preferred for risk analysis.
    synonyms:
    - unadjusted gamma eod
  - name: norm_strike_eod
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at the eod horizon (end of day after the broker trade).
      Expresses the strike relative to the forward price, standardizing across products and expiries.
      Used for delta-bucket analysis and moneyness-based performance segmentation at eod.
    synonyms:
    - moneyness eod
    - normalized strike eod
  - name: roll_eod
    type: FLOAT
    description: >-
      Roll adjustment value at the eod horizon (end of day after the broker trade). Captures the
      calendar roll effect at the forward snapshot point. The change from trade-time roll to
      roll_eod drives the roll_slippage component for this interval.
    synonyms:
    - roll value eod
  - name: tv_change_eod
    type: FLOAT
    description: >-
      Total theoretical value change at the eod horizon (end of day after the broker trade). Measures
      the absolute movement in the option's fair value from trade time to the eod snapshot.
      Decomposed into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move eod
    - theo change eod
    formula: '(adjusted_tv_eod - trade_tv)'
  - name: tv_change_buysell_eod
    type: FLOAT
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the eod horizon (end of day after
      the broker trade). Signed by buy_sell_multiplier so positive means the theo moved in Mako's
      favor. This is the forward-looking PnL at eod, showing how much the position gained or lost.
    synonyms:
    - pnl eod
    - forward pnl eod
    - slippage eod
    formula: '(adjusted_tv_eod - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_eod_per_unit
    type: FLOAT
    description: >-
      Per-unit roll slippage at the eod horizon (end of day after the broker trade). Measures the
      per-contract PnL impact from calendar roll changes between trade time and the eod snapshot.
      Part of the slippage decomposition, isolating the roll-driven component.
    synonyms:
    - roll slip eod
    - roll slippage per unit eod
    formula: '((reference_roll_eod - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_eod
    type: FLOAT
    description: >-
      Total roll slippage at the eod horizon (end of day after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes over end of day. Calculated as
      roll_slippage_eod_per_unit * ABS(size) * contract_size.
    synonyms:
    - roll slip eod
    - roll slippage eod
    formula: '((reference_roll_eod - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_eod
    type: FLOAT
    description: >-
      Adjusted theoretical value at the eod horizon (end of day after the broker trade), incorporating
      roll, carry, and other model adjustments applied to the raw TV. Used as the corrected fair
      value reference for slippage decomposition at eod. More accurate than raw tv_eod for PnL
      attribution.
    synonyms:
    - adj tv eod
    - adjusted theo eod
    formula: 'tv_eod + delta_eod * (calculated_base_val_eod - (under_eod - roll_eod)) + 0.5 * gamma_eod * POW((calculated_base_val_eod - (under_eod - roll_eod)), 2)'
  - name: delta_slippage_eod_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the eod horizon (end of day after the broker trade). Measures the
      per-contract PnL impact from underlying price movement over the interval, scaled by the
      option's delta. The largest slippage component for most trades. Part of the decomposition.
    synonyms:
    - delta slip eod
    - delta slippage per unit eod
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_eod - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_eod
    type: FLOAT
    description: >-
      Total delta slippage at the eod horizon (end of day after the broker trade), size-weighted.
      Aggregate monetary PnL impact from underlying price movement over end of day. Usually the
      dominant slippage component. Calculated as delta_slippage_eod_per_unit * ABS(size) * contract_size.
    synonyms:
    - delta slip eod
    - delta slippage eod
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_eod - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_eod_per_unit
    type: FLOAT
    description: >-
      Per-unit TV offset slippage at the eod horizon (end of day after the broker trade). Measures
      the per-contract PnL impact from changes in the trader's manual TV offset between trade time
      and eod. Unique to brokertrade. Formula: (tv_offset_eod - tv_offset) * ABS(size) *
      contract_size * buy_sell_multiplier * market_mako_multiplier, per unit.
    synonyms:
    - manual slippage per unit eod
    - tv offset slip eod
    formula: '(tv_offset_eod - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: tv_offset_slippage_eod
    type: FLOAT
    description: >-
      Total TV offset slippage at the eod horizon (end of day after the broker trade), size-weighted.
      Aggregate monetary PnL impact from manual TV override changes over end of day. Unique to
      brokertrade. Calculated as tv_offset_slippage_eod_per_unit * ABS(size) * contract_size.
    synonyms:
    - manual slippage eod
    - tv offset slippage eod
    formula: '(tv_offset_eod - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
    business_rules: Unique to brokertrade. Captures aggregate impact of manual TV overrides.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
  - name: vol_path_estimate_1D
    type: STRING
    description: >-
      Estimated volatility path contribution at the 1 day horizon (1 day (next business day) after the broker trade).
      Models the expected vol-driven price movement over the longer interval. Used as an input to
      vol slippage calculation at 1 day. May be NULL if the 1 day snapshot is unavailable.
    synonyms:
    - vol path 1d
    formula: '((calculated_base_val_1D - mid_base_val) * ((delta_1D - raw_delta_1D) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_1D_per_unit
    type: STRING
    description: >-
      Per-unit volatility slippage at the 1 day horizon (1 day (next business day) after the broker trade). Measures
      per-contract PnL impact from implied volatility changes over the longer interval. Part of the
      slippage decomposition. STRING type as 1 day data may come from a different pipeline stage.
    synonyms:
    - vol slip 1d
    - vol slippage per unit 1d
    formula: '((vol_1D - vol) * ((vega_1D + vega) / 2) - vol_path_estimate_1D) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_1D
    type: STRING
    description: >-
      Total volatility slippage at the 1 day horizon (1 day (next business day) after the broker trade), size-weighted.
      Aggregate monetary PnL impact from implied volatility changes over 1 day (next business day). STRING type as
      longer-horizon data may come from a different pipeline stage.
    synonyms:
    - vol slip 1d
    - vol slippage 1d
    formula: '((vol_1D - vol) * ((vega_1D + vega) / 2) - vol_path_estimate_1D) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_1D_per_unit
    type: STRING
    description: >-
      Per-unit residual (other) slippage at the 1 day horizon (1 day (next business day) after the broker trade).
      Captures per-contract slippage not explained by delta, vol, roll, or TV offset changes at
      the longer interval. The unexplained remainder.
    synonyms:
    - other slip 1d
    - residual slip 1d
    formula: '((adjusted_tv_1D - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_1D_per_unit + roll_slippage_1D_per_unit)'
  - name: other_slippage_1D
    type: STRING
    description: >-
      Total residual (other) slippage at the 1 day horizon (1 day (next business day) after the broker trade),
      size-weighted. Aggregate monetary residual slippage not attributable to known factors at 1 day.
    synonyms:
    - other slip 1d
    - residual slippage 1d
    formula: '((adjusted_tv_1D - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_1D + roll_slippage_1D)'
  - name: tv_1D
    type: STRING
    description: >-
      Theoretical value of the option at the 1 day horizon (1 day (next business day) after the broker trade). Computed
      from the ORA snapshot at the longer interval. The change from trade-time TV to tv_1D drives
      the forward-looking PnL at 1 day. STRING type for longer-horizon data.
    synonyms:
    - theo 1d
    - fair value 1d
  - name: delta_1D
    type: STRING
    description: >-
      Option delta at the 1 day horizon (1 day (next business day) after the broker trade). The sensitivity of the
      option price to the underlying at the longer interval snapshot. The change from trade-time
      delta drives delta slippage at 1 day. STRING type for longer-horizon data.
    synonyms:
    - delta 1d
  - name: gamma_1D
    type: STRING
    description: >-
      Option gamma at the 1 day horizon (1 day (next business day) after the broker trade), measuring the rate of change of delta
      at the longer interval snapshot. Part of the complete greeks snapshot at 1 day. STRING type
      for longer-horizon data.
    synonyms:
    - gamma 1d
  - name: vega_1D
    type: STRING
    description: >-
      Option vega at the 1 day horizon (1 day (next business day) after the broker trade), measuring the sensitivity to implied volatility
      at the longer interval snapshot. Part of the complete greeks snapshot at 1 day. STRING type
      for longer-horizon data.
    synonyms:
    - vega 1d
  - name: theta_1D
    type: STRING
    description: >-
      Option theta at the 1 day horizon (1 day (next business day) after the broker trade), measuring the time decay per day
      at the longer interval snapshot. Part of the complete greeks snapshot at 1 day. STRING type
      for longer-horizon data.
    synonyms:
    - theta 1d
  - name: under_1D
    type: STRING
    description: >-
      Underlying (spot) price at the 1 day horizon (1 day (next business day) after the broker trade). The change from
      trade-time underlying to under_1D drives the delta slippage at the longer interval. Used
      for longer-term post-trade market movement analysis.
    synonyms:
    - spot 1d
    - underlying 1d
  - name: vol_1D
    type: STRING
    description: >-
      Implied volatility at the 1 day horizon (1 day (next business day) after the broker trade). The change from
      trade-time vol drives vol_slippage at the longer interval. Expressed as a decimal. STRING
      type for longer-horizon data.
    synonyms:
    - IV 1d
    - implied vol 1d
  - name: rho_1D
    type: STRING
    description: >-
      Option rho at the 1 day horizon (1 day (next business day) after the broker trade), measuring sensitivity to
      interest rate changes. Part of the complete greeks snapshot. More relevant for longer-dated
      options at this extended interval.
    synonyms:
    - rho 1d
  - name: raw_delta_1D
    type: STRING
    description: >-
      Raw (unadjusted) option delta at the 1 day horizon (1 day (next business day) after the broker trade). The
      unmodified delta before model adjustments. Rarely queried directly at the longer interval.
    synonyms:
    - unadjusted delta 1d
  - name: raw_gamma_1D
    type: STRING
    description: >-
      Raw (unadjusted) option gamma at the 1 day horizon (1 day (next business day) after the broker trade). The
      unmodified gamma before model adjustments at the longer interval. Rarely queried directly.
    synonyms:
    - unadjusted gamma 1d
  - name: norm_strike_1D
    type: STRING
    description: >-
      Normalized strike (moneyness) at the 1 day horizon (1 day (next business day) after the broker trade). Standardizes
      strike relative to forward price at the longer interval snapshot. Used for moneyness analysis.
    synonyms:
    - moneyness 1d
  - name: roll_1D
    type: STRING
    description: >-
      Roll adjustment value at the 1 day horizon (1 day (next business day) after the broker trade). Calendar roll
      effect at the longer interval. The change from trade-time roll drives roll_slippage at 1 day.
    synonyms:
    - roll value 1d
  - name: tv_change_1D
    type: STRING
    description: >-
      Total theoretical value change at the 1 day horizon (1 day (next business day) after the broker trade). Measures
      the absolute fair value movement from trade time to the longer interval snapshot. Decomposed
      into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 1d
    - theo change 1d
    formula: '(adjusted_tv_1D - trade_tv)'
  - name: tv_change_buysell_1D
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 1 day horizon (1 day (next business day) after the
      broker trade). Signed by buy_sell_multiplier so positive means favorable. The forward PnL at
      the longer interval.
    synonyms:
    - pnl 1d
    - forward pnl 1d
    formula: '(adjusted_tv_1D - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_1D_per_unit
    type: STRING
    description: >-
      Per-unit roll slippage at the 1 day horizon (1 day (next business day) after the broker trade). Per-contract PnL
      impact from calendar roll changes at the longer interval. Part of slippage decomposition.
    synonyms:
    - roll slip 1d
    formula: '((reference_roll_1D - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_1D
    type: STRING
    description: >-
      Total roll slippage at the 1 day horizon (1 day (next business day) after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes at the longer interval.
    synonyms:
    - roll slip 1d
    - roll slippage 1d
    formula: '((reference_roll_1D - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_1D
    type: STRING
    description: >-
      Adjusted theoretical value at the 1 day horizon (1 day (next business day) after the broker trade), incorporating
      roll, carry, and model adjustments. The corrected fair value for slippage decomposition at
      the longer interval.
    synonyms:
    - adj tv 1d
    - adjusted theo 1d
    formula: 'tv_1D + delta_1D * (calculated_base_val_1D - (under_1D - roll_1D)) + 0.5 * gamma_1D * POW((calculated_base_val_1D - (under_1D - roll_1D)), 2)'
  - name: delta_slippage_1D_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 1 day horizon (1 day (next business day) after the broker trade). Per-contract PnL
      impact from underlying price movement at the longer interval. Usually the dominant component.
    synonyms:
    - delta slip 1d
    - delta slippage per unit 1d
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1D - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_1D
    type: FLOAT
    description: >-
      Total delta slippage at the 1 day horizon (1 day (next business day) after the broker trade), size-weighted.
      Aggregate monetary PnL from underlying price movement at the longer interval.
    synonyms:
    - delta slip 1d
    - delta slippage 1d
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_1D - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_1D_per_unit
    type: STRING
    description: >-
      Per-unit TV offset slippage at the 1 day horizon (1 day (next business day) after the broker trade). Per-contract
      PnL from manual TV override changes at the longer interval. Unique to brokertrade.
    synonyms:
    - manual slippage per unit 1d
    business_rules: Unique to brokertrade.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
    formula: '(tv_offset_1D - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: tv_offset_slippage_1D
    type: STRING
    description: >-
      Total TV offset slippage at the 1 day horizon (1 day (next business day) after the broker trade), size-weighted.
      Aggregate monetary PnL from manual TV override changes at the longer interval. Unique to brokertrade.
    synonyms:
    - manual slippage 1d
    business_rules: Unique to brokertrade.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
    formula: '(tv_offset_1D - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_path_estimate_5D
    type: STRING
    description: >-
      Estimated volatility path contribution at the 5 day horizon (5 days (one trading week) after the broker trade).
      Models the expected vol-driven price movement over the longer interval. Used as an input to
      vol slippage calculation at 5 day. May be NULL if the 5 day snapshot is unavailable.
    synonyms:
    - vol path 5d
    formula: '((calculated_base_val_5D - mid_base_val) * ((delta_5D - raw_delta_5D) + (delta - raw_delta)) / 2)'
  - name: vol_slippage_5D_per_unit
    type: STRING
    description: >-
      Per-unit volatility slippage at the 5 day horizon (5 days (one trading week) after the broker trade). Measures
      per-contract PnL impact from implied volatility changes over the longer interval. Part of the
      slippage decomposition. STRING type as 5 day data may come from a different pipeline stage.
    synonyms:
    - vol slip 5d
    - vol slippage per unit 5d
    formula: '((vol_5D - vol) * ((vega_5D + vega) / 2) - vol_path_estimate_5D) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: vol_slippage_5D
    type: STRING
    description: >-
      Total volatility slippage at the 5 day horizon (5 days (one trading week) after the broker trade), size-weighted.
      Aggregate monetary PnL impact from implied volatility changes over 5 days (one trading week). STRING type as
      longer-horizon data may come from a different pipeline stage.
    synonyms:
    - vol slip 5d
    - vol slippage 5d
    formula: '((vol_5D - vol) * ((vega_5D + vega) / 2) - vol_path_estimate_5D) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: other_slippage_5D_per_unit
    type: STRING
    description: >-
      Per-unit residual (other) slippage at the 5 day horizon (5 days (one trading week) after the broker trade).
      Captures per-contract slippage not explained by delta, vol, roll, or TV offset changes at
      the longer interval. The unexplained remainder.
    synonyms:
    - other slip 5d
    - residual slip 5d
    formula: '((adjusted_tv_5D - trade_tv) * buy_sell_multiplier * COALESCE(ABS(leg_ratio), 1) * contract_size * market_mako_multiplier) - (delta_slippage_5D_per_unit + roll_slippage_5D_per_unit)'
  - name: other_slippage_5D
    type: STRING
    description: >-
      Total residual (other) slippage at the 5 day horizon (5 days (one trading week) after the broker trade),
      size-weighted. Aggregate monetary residual slippage not attributable to known factors at 5 day.
    synonyms:
    - other slip 5d
    - residual slippage 5d
    formula: '((adjusted_tv_5D - trade_tv) * buy_sell_multiplier * contract_size * ABS(size) * market_mako_multiplier) - (delta_slippage_5D + roll_slippage_5D)'
  - name: tv_5D
    type: STRING
    description: >-
      Theoretical value of the option at the 5 day horizon (5 days (one trading week) after the broker trade). Computed
      from the ORA snapshot at the longer interval. The change from trade-time TV to tv_5D drives
      the forward-looking PnL at 5 day. STRING type for longer-horizon data.
    synonyms:
    - theo 5d
    - fair value 5d
  - name: delta_5D
    type: STRING
    description: >-
      Option delta at the 5 day horizon (5 days (one trading week) after the broker trade). The sensitivity of the
      option price to the underlying at the longer interval snapshot. The change from trade-time
      delta drives delta slippage at 5 day. STRING type for longer-horizon data.
    synonyms:
    - delta 5d
  - name: gamma_5D
    type: STRING
    description: >-
      Option gamma at the 5 day horizon (5 days (one trading week) after the broker trade), measuring the rate of change of delta
      at the longer interval snapshot. Part of the complete greeks snapshot at 5 day. STRING type
      for longer-horizon data.
    synonyms:
    - gamma 5d
  - name: vega_5D
    type: STRING
    description: >-
      Option vega at the 5 day horizon (5 days (one trading week) after the broker trade), measuring the sensitivity to implied volatility
      at the longer interval snapshot. Part of the complete greeks snapshot at 5 day. STRING type
      for longer-horizon data.
    synonyms:
    - vega 5d
  - name: theta_5D
    type: STRING
    description: >-
      Option theta at the 5 day horizon (5 days (one trading week) after the broker trade), measuring the time decay per day
      at the longer interval snapshot. Part of the complete greeks snapshot at 5 day. STRING type
      for longer-horizon data.
    synonyms:
    - theta 5d
  - name: under_5D
    type: STRING
    description: >-
      Underlying (spot) price at the 5 day horizon (5 days (one trading week) after the broker trade). The change from
      trade-time underlying to under_5D drives the delta slippage at the longer interval. Used
      for longer-term post-trade market movement analysis.
    synonyms:
    - spot 5d
    - underlying 5d
  - name: vol_5D
    type: STRING
    description: >-
      Implied volatility at the 5 day horizon (5 days (one trading week) after the broker trade). The change from
      trade-time vol drives vol_slippage at the longer interval. Expressed as a decimal. STRING
      type for longer-horizon data.
    synonyms:
    - IV 5d
    - implied vol 5d
  - name: rho_5D
    type: STRING
    description: >-
      Option rho at the 5 day horizon (5 days (one trading week) after the broker trade), measuring sensitivity to
      interest rate changes. Part of the complete greeks snapshot. More relevant for longer-dated
      options at this extended interval.
    synonyms:
    - rho 5d
  - name: raw_delta_5D
    type: STRING
    description: >-
      Raw (unadjusted) option delta at the 5 day horizon (5 days (one trading week) after the broker trade). The
      unmodified delta before model adjustments. Rarely queried directly at the longer interval.
    synonyms:
    - unadjusted delta 5d
  - name: raw_gamma_5D
    type: STRING
    description: >-
      Raw (unadjusted) option gamma at the 5 day horizon (5 days (one trading week) after the broker trade). The
      unmodified gamma before model adjustments at the longer interval. Rarely queried directly.
    synonyms:
    - unadjusted gamma 5d
  - name: norm_strike_5D
    type: STRING
    description: >-
      Normalized strike (moneyness) at the 5 day horizon (5 days (one trading week) after the broker trade). Standardizes
      strike relative to forward price at the longer interval snapshot. Used for moneyness analysis.
    synonyms:
    - moneyness 5d
  - name: roll_5D
    type: STRING
    description: >-
      Roll adjustment value at the 5 day horizon (5 days (one trading week) after the broker trade). Calendar roll
      effect at the longer interval. The change from trade-time roll drives roll_slippage at 5 day.
    synonyms:
    - roll value 5d
  - name: tv_change_5D
    type: STRING
    description: >-
      Total theoretical value change at the 5 day horizon (5 days (one trading week) after the broker trade). Measures
      the absolute fair value movement from trade time to the longer interval snapshot. Decomposed
      into delta, vol, roll, TV offset, and other slippage components.
    synonyms:
    - tv move 5d
    - theo change 5d
    formula: '(adjusted_tv_5D - trade_tv)'
  - name: tv_change_buysell_5D
    type: STRING
    description: >-
      Directional (buy/sell adjusted) theoretical value change at the 5 day horizon (5 days (one trading week) after the
      broker trade). Signed by buy_sell_multiplier so positive means favorable. The forward PnL at
      the longer interval.
    synonyms:
    - pnl 5d
    - forward pnl 5d
    formula: '(adjusted_tv_5D - trade_tv) * buy_sell_multiplier'
  - name: roll_slippage_5D_per_unit
    type: STRING
    description: >-
      Per-unit roll slippage at the 5 day horizon (5 days (one trading week) after the broker trade). Per-contract PnL
      impact from calendar roll changes at the longer interval. Part of slippage decomposition.
    synonyms:
    - roll slip 5d
    formula: '((reference_roll_5D - reference_roll) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: roll_slippage_5D
    type: STRING
    description: >-
      Total roll slippage at the 5 day horizon (5 days (one trading week) after the broker trade), size-weighted.
      Aggregate monetary PnL impact from calendar roll changes at the longer interval.
    synonyms:
    - roll slip 5d
    - roll slippage 5d
    formula: '((reference_roll_5D - reference_roll) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: adjusted_tv_5D
    type: STRING
    description: >-
      Adjusted theoretical value at the 5 day horizon (5 days (one trading week) after the broker trade), incorporating
      roll, carry, and model adjustments. The corrected fair value for slippage decomposition at
      the longer interval.
    synonyms:
    - adj tv 5d
    - adjusted theo 5d
    formula: 'tv_5D + delta_5D * (calculated_base_val_5D - (under_5D - roll_5D)) + 0.5 * gamma_5D * POW((calculated_base_val_5D - (under_5D - roll_5D)), 2)'
  - name: delta_slippage_5D_per_unit
    type: FLOAT
    description: >-
      Per-unit delta slippage at the 5 day horizon (5 days (one trading week) after the broker trade). Per-contract PnL
      impact from underlying price movement at the longer interval. Usually the dominant component.
    synonyms:
    - delta slip 5d
    - delta slippage per unit 5d
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5D - mid_base_val) * delta) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: delta_slippage_5D
    type: FLOAT
    description: >-
      Total delta slippage at the 5 day horizon (5 days (one trading week) after the broker trade), size-weighted.
      Aggregate monetary PnL from underlying price movement at the longer interval.
    synonyms:
    - delta slip 5d
    - delta slippage 5d
    formula: 'CASE WHEN is_ref_trade THEN 0 ELSE ((calculated_base_val_5D - mid_base_val) * delta) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier END'
  - name: tv_offset_slippage_5D_per_unit
    type: STRING
    description: >-
      Per-unit TV offset slippage at the 5 day horizon (5 days (one trading week) after the broker trade). Per-contract
      PnL from manual TV override changes at the longer interval. Unique to brokertrade.
    synonyms:
    - manual slippage per unit 5d
    business_rules: Unique to brokertrade.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
    formula: '(tv_offset_5D - tv_offset) * COALESCE(ABS(leg_ratio), 1) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: tv_offset_slippage_5D
    type: STRING
    description: >-
      Total TV offset slippage at the 5 day horizon (5 days (one trading week) after the broker trade), size-weighted.
      Aggregate monetary PnL from manual TV override changes at the longer interval. Unique to brokertrade.
    synonyms:
    - manual slippage 5d
    business_rules: Unique to brokertrade.
    source: KPI-Added (kpi_brokertrade_calculations.sql)
    formula: '(tv_offset_5D - tv_offset) * ABS(size) * contract_size * buy_sell_multiplier * market_mako_multiplier'
  - name: calculated_base_val_eod
    type: FLOAT
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the end-of-day
      horizon (end of day after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at end-of-day.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the end-of-day interval.
  - name: calculated_base_val_1D
    type: STRING
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 1 day
      horizon (1 day (next business day) after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 1 day.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 1 day interval.
  - name: calculated_base_val_5D
    type: STRING
    description: >-
      Calculated base value (underlying reference price used in slippage decomposition) at the 5 day
      horizon (5 days (one trading week) after the broker trade). Combines the underlying mid price with adjustments
      for the forward curve. Used as the reference price for delta slippage calculation at 5 day.
    synonyms: []
    business_rules: Intermediate KPI calculation field for the 5 day interval.
  - name: delta
    type: FLOAT
    description: >-
      Option delta at the time of the broker trade, measuring the sensitivity of the option's price
      to a one-point move in the underlying. Ranges from -1 to +1. Used for delta-bucket grouping
      (e.g., "show edge for 25-delta puts"), hedge ratio calculation, and as the baseline for delta
      slippage decomposition across all forward intervals.
    synonyms:
    - delta exposure
    - hedge ratio
    - trade delta
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.delta'
    formula: 'CASE WHEN is_ref_component = 1 THEN SAFE_DIVIDE(size * contract_size, ABS(SAFE_DIVIDE(size_at_zero_index * contract_size_at_zero_index, leg_ratio_at_zero_index))) * -1 ELSE delta_theo END'
  - name: gamma
    type: FLOAT
    description: >-
      Option gamma at the time of the broker trade, the second derivative of price with respect to
      the underlying. Measures how quickly delta changes as the underlying moves. High gamma means
      the hedge ratio is unstable, leading to larger delta slippage. Used for convexity analysis
      and risk-weighted PnL attribution.
    synonyms:
    - gamma exposure
    - convexity
    - trade gamma
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.gamma'
  - name: vega
    type: FLOAT
    description: >-
      Option vega at the time of the broker trade, measuring the sensitivity of the option's price
      to a one-point change in implied volatility. Drives the vol_slippage component. Higher vega
      means greater exposure to vol changes. Used for vol-weighted PnL analysis and risk reporting.
    synonyms:
    - vol sensitivity
    - vega exposure
    - trade vega
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.vega'
  - name: theta
    type: FLOAT
    description: >-
      Option theta at the time of the broker trade, measuring the time decay per calendar day.
      Negative for long option positions (value erodes with time), positive for short positions.
      Used for time-decay attribution in PnL analysis and estimating daily carry cost of the position.
    synonyms:
    - time decay
    - theta decay
    - trade theta
  - name: under
    type: FLOAT
    description: >-
      Underlying (spot) price at the exact time of the broker trade, sourced from the ORA pricing
      engine snapshot. This is the baseline underlying price for all forward-looking delta slippage
      calculations. Used for moneyness analysis, delta-bucket grouping, and correlating broker
      trade performance with market levels.
    synonyms:
    - underlying
    - spot
    - underlying price
    - spot price
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.under'
  - name: vol
    type: STRING
    description: >-
      Implied volatility at the time of the broker trade, sourced from the ORA vol surface. Expressed
      as a decimal (e.g., 0.25 = 25% annualized vol). This is the baseline for all forward-looking
      vol_slippage calculations. Used for vol-level analysis, comparing trade vol to realized vol,
      and segmenting performance by vol regime.
    synonyms:
    - implied volatility
    - IV
    - sigma
    - implied vol
    - trade vol
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.vol'
  - name: rho
    type: FLOAT
    description: >-
      Option rho at the time of the broker trade, measuring the sensitivity to a one-percentage-point
      change in the risk-free interest rate. Typically a minor factor for short-dated equity options
      but can be significant for longer-dated fixed income options or in high-rate environments.
    synonyms:
    - rate sensitivity
    - interest rate sensitivity
  - name: raw_delta
    type: FLOAT
    description: >-
      Raw (unadjusted) option delta at trade time, before any model adjustments for skew, dividend,
      or other corrections are applied. Compare with delta to understand the impact of model adjustments.
      Rarely queried directly by traders; the adjusted delta is preferred.
    synonyms:
    - unadjusted delta
    - raw trade delta
  - name: raw_gamma
    type: FLOAT
    description: >-
      Raw (unadjusted) option gamma at trade time, before model adjustments. The unmodified second
      derivative of price with respect to underlying. Primarily used for debugging model adjustments
      and data quality checks. Traders should use the adjusted gamma field.
    synonyms:
    - unadjusted gamma
    - raw trade gamma
  - name: norm_strike
    type: FLOAT
    description: >-
      Normalized strike (moneyness measure) at trade time, expressing the option's strike relative
      to the forward price in a standardized way. Used for delta-bucket grouping (e.g., 25-delta,
      50-delta), moneyness-based performance analysis, and constructing volatility surfaces. This is
      how traders refer to "delta buckets" when segmenting trades by moneyness.
    synonyms:
    - moneyness
    - delta bucket
    - normalized strike
    - norm K
  - name: roll
    type: FLOAT
    description: >-
      Roll adjustment value at trade time, capturing the calendar roll effect between the option's
      expiry and the underlying reference. The baseline for computing roll_slippage across all
      forward intervals. Changes in roll between trade time and forward snapshots indicate
      calendar-driven PnL contributions.
    synonyms:
    - calendar roll
    - roll value
    - trade roll
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos (derived)'
  - name: tv
    type: FLOAT
    description: >-
      Theoretical value (fair value) of the option at the time of the broker trade, as computed by
      the ORA pricing engine. This is Mako's model price and the anchor for all KPI calculations.
      instant_edge = (tv - price) * buy_sell_multiplier. All forward-looking slippage metrics measure
      how TV changes from this baseline. The most important reference field for broker trade analytics.
    synonyms:
    - theo
    - theoretical value
    - fair value
    - machine price
    - TV
    - model price
    source: 'OffFloorData.proto :: BrokerTrade.detail.theos.tv'
    formula: 'CASE WHEN is_ref_trade THEN tv + delta * (adjusted_trade_ref_price - forward) + 0.5 * gamma * POW((adjusted_trade_ref_price - forward), 2) ELSE tv + delta * (mid_base_val + adjusted_roll - forward) + 0.5 * gamma * POW((mid_base_val + adjusted_roll - forward), 2) END'
  - name: tte_1s
    type: FLOAT
    description: >-
      Time to expiry in years at the 1s horizon (1 second after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 1s interval.
    synonyms:
    - time to expiry 1s
    - DTE 1s
  - name: forward_1s
    type: FLOAT
    description: >-
      Forward price of the underlying at the 1s horizon (1 second after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 1s contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 1s
    - forward price 1s
  - name: short_rate_1s
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 1s horizon (1 second after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 1s contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 1s
  - name: stock_roll_1s
    type: FLOAT
    description: >-
      Stock-specific roll value at the 1s horizon (1 second after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 1s.
    synonyms:
    - equity roll 1s
  - name: reference_roll_1s
    type: FLOAT
    description: >-
      Reference roll value at the 1s horizon (1 second after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 1s.
    synonyms:
    - ref roll 1s
  - name: tte_5s
    type: FLOAT
    description: >-
      Time to expiry in years at the 5s horizon (5 seconds after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 5s interval.
    synonyms:
    - time to expiry 5s
    - DTE 5s
  - name: forward_5s
    type: FLOAT
    description: >-
      Forward price of the underlying at the 5s horizon (5 seconds after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 5s contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 5s
    - forward price 5s
  - name: short_rate_5s
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 5s horizon (5 seconds after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 5s contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 5s
  - name: stock_roll_5s
    type: FLOAT
    description: >-
      Stock-specific roll value at the 5s horizon (5 seconds after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 5s.
    synonyms:
    - equity roll 5s
  - name: reference_roll_5s
    type: FLOAT
    description: >-
      Reference roll value at the 5s horizon (5 seconds after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 5s.
    synonyms:
    - ref roll 5s
  - name: tte_10s
    type: FLOAT
    description: >-
      Time to expiry in years at the 10s horizon (10 seconds after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 10s interval.
    synonyms:
    - time to expiry 10s
    - DTE 10s
  - name: forward_10s
    type: FLOAT
    description: >-
      Forward price of the underlying at the 10s horizon (10 seconds after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 10s contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 10s
    - forward price 10s
  - name: short_rate_10s
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 10s horizon (10 seconds after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 10s contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 10s
  - name: stock_roll_10s
    type: FLOAT
    description: >-
      Stock-specific roll value at the 10s horizon (10 seconds after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 10s.
    synonyms:
    - equity roll 10s
  - name: reference_roll_10s
    type: FLOAT
    description: >-
      Reference roll value at the 10s horizon (10 seconds after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 10s.
    synonyms:
    - ref roll 10s
  - name: tte_30s
    type: FLOAT
    description: >-
      Time to expiry in years at the 30s horizon (30 seconds after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 30s interval.
    synonyms:
    - time to expiry 30s
    - DTE 30s
  - name: forward_30s
    type: FLOAT
    description: >-
      Forward price of the underlying at the 30s horizon (30 seconds after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 30s contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 30s
    - forward price 30s
  - name: short_rate_30s
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 30s horizon (30 seconds after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 30s contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 30s
  - name: stock_roll_30s
    type: FLOAT
    description: >-
      Stock-specific roll value at the 30s horizon (30 seconds after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 30s.
    synonyms:
    - equity roll 30s
  - name: reference_roll_30s
    type: FLOAT
    description: >-
      Reference roll value at the 30s horizon (30 seconds after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 30s.
    synonyms:
    - ref roll 30s
  - name: tte_1m
    type: FLOAT
    description: >-
      Time to expiry in years at the 1m horizon (1 minute after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 1m interval.
    synonyms:
    - time to expiry 1m
    - DTE 1m
  - name: forward_1m
    type: FLOAT
    description: >-
      Forward price of the underlying at the 1m horizon (1 minute after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 1m contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 1m
    - forward price 1m
  - name: short_rate_1m
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 1m horizon (1 minute after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 1m contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 1m
  - name: stock_roll_1m
    type: FLOAT
    description: >-
      Stock-specific roll value at the 1m horizon (1 minute after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 1m.
    synonyms:
    - equity roll 1m
  - name: reference_roll_1m
    type: FLOAT
    description: >-
      Reference roll value at the 1m horizon (1 minute after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 1m.
    synonyms:
    - ref roll 1m
  - name: tte_5m
    type: FLOAT
    description: >-
      Time to expiry in years at the 5m horizon (5 minutes after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 5m interval.
    synonyms:
    - time to expiry 5m
    - DTE 5m
  - name: forward_5m
    type: FLOAT
    description: >-
      Forward price of the underlying at the 5m horizon (5 minutes after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 5m contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 5m
    - forward price 5m
  - name: short_rate_5m
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 5m horizon (5 minutes after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 5m contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 5m
  - name: stock_roll_5m
    type: FLOAT
    description: >-
      Stock-specific roll value at the 5m horizon (5 minutes after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 5m.
    synonyms:
    - equity roll 5m
  - name: reference_roll_5m
    type: FLOAT
    description: >-
      Reference roll value at the 5m horizon (5 minutes after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 5m.
    synonyms:
    - ref roll 5m
  - name: tte_10m
    type: FLOAT
    description: >-
      Time to expiry in years at the 10m horizon (10 minutes after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 10m interval.
    synonyms:
    - time to expiry 10m
    - DTE 10m
  - name: forward_10m
    type: FLOAT
    description: >-
      Forward price of the underlying at the 10m horizon (10 minutes after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 10m contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 10m
    - forward price 10m
  - name: short_rate_10m
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 10m horizon (10 minutes after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 10m contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 10m
  - name: stock_roll_10m
    type: FLOAT
    description: >-
      Stock-specific roll value at the 10m horizon (10 minutes after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 10m.
    synonyms:
    - equity roll 10m
  - name: reference_roll_10m
    type: FLOAT
    description: >-
      Reference roll value at the 10m horizon (10 minutes after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 10m.
    synonyms:
    - ref roll 10m
  - name: tte_30m
    type: FLOAT
    description: >-
      Time to expiry in years at the 30m horizon (30 minutes after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 30m interval.
    synonyms:
    - time to expiry 30m
    - DTE 30m
  - name: forward_30m
    type: FLOAT
    description: >-
      Forward price of the underlying at the 30m horizon (30 minutes after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 30m contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 30m
    - forward price 30m
  - name: short_rate_30m
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 30m horizon (30 minutes after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 30m contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 30m
  - name: stock_roll_30m
    type: FLOAT
    description: >-
      Stock-specific roll value at the 30m horizon (30 minutes after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 30m.
    synonyms:
    - equity roll 30m
  - name: reference_roll_30m
    type: FLOAT
    description: >-
      Reference roll value at the 30m horizon (30 minutes after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 30m.
    synonyms:
    - ref roll 30m
  - name: tte_1h
    type: FLOAT
    description: >-
      Time to expiry in years at the 1h horizon (1 hour after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 1h interval.
    synonyms:
    - time to expiry 1h
    - DTE 1h
  - name: forward_1h
    type: FLOAT
    description: >-
      Forward price of the underlying at the 1h horizon (1 hour after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 1h contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 1h
    - forward price 1h
  - name: short_rate_1h
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the 1h horizon (1 hour after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 1h contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 1h
  - name: stock_roll_1h
    type: FLOAT
    description: >-
      Stock-specific roll value at the 1h horizon (1 hour after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 1h.
    synonyms:
    - equity roll 1h
  - name: reference_roll_1h
    type: FLOAT
    description: >-
      Reference roll value at the 1h horizon (1 hour after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 1h.
    synonyms:
    - ref roll 1h
  - name: tte_eod
    type: FLOAT
    description: >-
      Time to expiry in years at the eod horizon (end of day after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the eod interval.
    synonyms:
    - time to expiry eod
    - DTE eod
  - name: forward_eod
    type: FLOAT
    description: >-
      Forward price of the underlying at the eod horizon (end of day after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to eod contribute to delta slippage through the carry channel.
    synonyms:
    - fwd eod
    - forward price eod
  - name: short_rate_eod
    type: FLOAT
    description: >-
      Short-term interest rate used in option pricing at the eod horizon (end of day after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and eod contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate eod
  - name: stock_roll_eod
    type: FLOAT
    description: >-
      Stock-specific roll value at the eod horizon (end of day after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at eod.
    synonyms:
    - equity roll eod
  - name: reference_roll_eod
    type: FLOAT
    description: >-
      Reference roll value at the eod horizon (end of day after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at eod.
    synonyms:
    - ref roll eod
  - name: tte_1D
    type: STRING
    description: >-
      Time to expiry in years at the 1d horizon (1 day (next business day) after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 1d interval.
    synonyms:
    - time to expiry 1d
    - DTE 1d
  - name: forward_1D
    type: STRING
    description: >-
      Forward price of the underlying at the 1d horizon (1 day (next business day) after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 1d contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 1d
    - forward price 1d
  - name: short_rate_1D
    type: STRING
    description: >-
      Short-term interest rate used in option pricing at the 1d horizon (1 day (next business day) after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 1d contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 1d
  - name: stock_roll_1D
    type: STRING
    description: >-
      Stock-specific roll value at the 1d horizon (1 day (next business day) after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 1d.
    synonyms:
    - equity roll 1d
  - name: reference_roll_1D
    type: STRING
    description: >-
      Reference roll value at the 1d horizon (1 day (next business day) after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 1d.
    synonyms:
    - ref roll 1d
  - name: tte_5D
    type: STRING
    description: >-
      Time to expiry in years at the 5d horizon (5 days (one trading week) after the broker trade). Decreases as
      time passes, reflecting the remaining life of the option at the forward snapshot. Used in
      theta and time-value analysis at the 5d interval.
    synonyms:
    - time to expiry 5d
    - DTE 5d
  - name: forward_5D
    type: STRING
    description: >-
      Forward price of the underlying at the 5d horizon (5 days (one trading week) after the broker trade). The
      model-implied future price incorporating dividends and carry. Changes in forward from trade
      time to 5d contribute to delta slippage through the carry channel.
    synonyms:
    - fwd 5d
    - forward price 5d
  - name: short_rate_5D
    type: STRING
    description: >-
      Short-term interest rate used in option pricing at the 5d horizon (5 days (one trading week) after the broker
      trade). Part of the pricing inputs snapshot. Rate changes between trade time and 5d contribute
      to rho-driven PnL. Typically stable over short intervals.
    synonyms:
    - rate 5d
  - name: stock_roll_5D
    type: STRING
    description: >-
      Stock-specific roll value at the 5d horizon (5 days (one trading week) after the broker trade). Captures
      the equity-specific component of the roll adjustment, including stock borrow costs and
      special dividend effects. Part of the roll slippage decomposition at 5d.
    synonyms:
    - equity roll 5d
  - name: reference_roll_5D
    type: STRING
    description: >-
      Reference roll value at the 5d horizon (5 days (one trading week) after the broker trade). The roll adjustment
      for the reference (hedge) leg at the forward snapshot. Used in the roll slippage decomposition
      for the reference component of combo broker trades at 5d.
    synonyms:
    - ref roll 5d
  - name: tte
    type: FLOAT
    description: >-
      Time to expiry in years at the time of the broker trade, representing the remaining life of the
      option contract. Used for maturity-based segmentation of broker trade performance. Shorter tte
      means higher gamma and theta, affecting slippage dynamics. Commonly expressed as fraction of a
      year (e.g., 0.08 = ~1 month).
    synonyms:
    - time to expiry
    - days to expiry
    - DTE
    - time to maturity
  - name: forward
    type: FLOAT
    description: >-
      Forward price of the underlying at trade time, incorporating dividends, interest rates, and
      carry costs. The model-implied future price of the underlying at option expiry. Used as the
      reference for normalized strike (moneyness) calculations and in the forward curve for pricing.
    synonyms:
    - forward price
    - fwd
    - forward at trade
  - name: short_rate
    type: FLOAT
    description: >-
      Short-term (risk-free) interest rate used in option pricing at the time of the broker trade.
      An input to the Black-Scholes or proprietary model for computing theoretical values. Affects
      forward price calculation and option time value. Typically expressed as an annualized decimal.
    synonyms:
    - rate
    - risk-free rate
    - interest rate
  - name: stock_roll
    type: FLOAT
    description: >-
      Stock-specific roll adjustment at trade time, capturing equity-specific carry components
      including stock borrow costs, special dividends, and repo rates. Part of the forward price
      calculation. Changes in stock_roll across intervals drive roll_slippage decomposition.
    synonyms:
    - equity roll
    - stock roll adjustment
    formula: 'forward - under'
  - name: reference_roll
    type: FLOAT
    description: >-
      Reference roll value at trade time for the hedge/reference leg of combo broker trades. The
      roll adjustment applicable to the underlying or futures used as the delta hedge. Baseline
      for computing roll_slippage on the reference component across forward intervals.
    synonyms:
    - ref roll
    - reference roll value
    formula: '(forward - under) + roll'
  - name: abs_traded_size
    type: FLOAT
    description: >-
      Absolute (unsigned) trade size in number of contracts, always positive regardless of buy/sell
      direction. Equivalent to ABS(size). Convenience field for aggregation queries where direction
      does not matter (e.g., total volume, average trade size). Used in fee calculations and volume
      reporting.
    synonyms:
    - unsigned size
    - absolute lots
    - absolute size
    - total contracts
    formula: ABS(size)
  - name: is_expiry_trade
    type: BOOLEAN
    description: >-
      Boolean flag indicating whether this broker trade occurred on the option's expiry day. Expiry-day
      trades have unique characteristics: gamma is extremely high, theta decay is accelerated, and
      slippage patterns differ from normal trading days. Consider filtering out or segmenting expiry
      trades for more representative performance analysis.
    synonyms:
    - expiry trade
    - expiry day trade
    - on expiry
    business_rules: Consider segmenting expiry-day trades separately; they have extreme greeks and atypical slippage.
