# NL2SQL Agent Configuration
# Copy to nl2sql_agent/.env and fill in values

# --- Required ---
LITELLM_API_KEY=your-litellm-api-key
LITELLM_API_BASE=http://localhost:4000

# --- Optional (with defaults shown) ---
# GCP_PROJECT=cloud-data-n-base-d4b3
# BQ_LOCATION=europe-west2

# --- Dataset Prefix ---
# Controls the prefix for all BQ dataset names. Datasets are computed as:
#   KPI:      {DATASET_PREFIX}{DEFAULT_EXCHANGE}_kpi    (e.g. nl2sql_omx_kpi)
#   Data:     {DATASET_PREFIX}{DEFAULT_EXCHANGE}_data   (e.g. nl2sql_omx_data)
#   Metadata: {DATASET_PREFIX}metadata                  (e.g. nl2sql_metadata)
#
# Dev:  DATASET_PREFIX=nl2sql_   (default — datasets: nl2sql_omx_kpi, nl2sql_omx_data, nl2sql_metadata)
# Prod: DATASET_PREFIX=          (empty — datasets: omx_kpi, omx_data, metadata)
# DATASET_PREFIX=nl2sql_
# DEFAULT_EXCHANGE=omx

# Explicit overrides (take precedence over prefix computation):
# KPI_DATASET=nl2sql_omx_kpi
# DATA_DATASET=nl2sql_omx_data
# METADATA_DATASET=nl2sql_metadata

# --- LLM Models ---
# LITELLM_MODEL=openai/gemini-3-flash-preview
# LITELLM_MODEL_COMPLEX=openai/gemini-3-pro-preview

# --- Vertex AI (embeddings) ---
# VERTEX_AI_CONNECTION=cloud-ai-d-base-a2df.europe-west2.vertex-ai-connection
# EMBEDDING_MODEL_REF=cloud-ai-d-base-a2df.nl2sql.text_embedding_model
# EMBEDDING_MODEL=text-embedding-005

# --- Query Limits ---
# BQ_QUERY_TIMEOUT_SECONDS=30
# BQ_MAX_RESULT_ROWS=1000
# VECTOR_SEARCH_TOP_K=5
# COLUMN_SEARCH_TOP_K=30
# COLUMN_SEARCH_MAX_PER_TABLE=15

# --- Semantic Cache ---
# SEMANTIC_CACHE_THRESHOLD=0.10

# --- Feature Flags ---
# USE_AUTONOMOUS_EMBEDDINGS=false

# --- Loop Detection ---
# MAX_CONSECUTIVE_REPEATS=3
# MAX_TOOL_CALLS_PER_TURN=50
